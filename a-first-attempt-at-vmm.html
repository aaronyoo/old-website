<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="generator" content="Madoko, version 1.1.6" />
  <meta name="viewport" content="initial-scale=1.0" />
  <meta name="author" content="Aaron Yoo" />
  <title>A First Attempt at Virtual Memory Management</title>
  <style type="text/css"  class="link">
  /*# sourceURL=madoko.css */
  
  .madoko .toc>.tocblock .tocblock .tocblock {
    margin-left: 2.25em;
  }
  .madoko .toc>.tocblock .tocblock {
    margin-left: 1.5em;
  }
  .madoko .toc-contents>.tocblock>.tocitem {
    font-weight: bold;
  }
  .madoko .toc {
    margin-top: 1em;
  }
  .madoko p.para-continue {
    margin-bottom: 0pt;
  }
  .madoko .para-block+p {
    margin-top: 0pt;
  }
  .madoko ul.para-block, .madoko ol.para-block {
    margin-top: 0pt;
    margin-bottom: 0pt;
  }
  .madoko ul.para-end, .madoko ol.para-end {
    margin-bottom: 1em;
  }
  .madoko dl {
    margin-left: 0em;
  }
  .madoko blockquote {
    font-style: italic;
  }
  .madoko a.localref {
    text-decoration: none;
  }
  .madoko a.localref:hover {
    text-decoration: underline;
  }
  .madoko .footnotes {
    font-size: smaller;
    margin-top: 2em;
  }
  .madoko .footnotes hr {
    width: 50%;
    text-align: left;
  }
  .madoko .footnote { 
    margin-left: 1em;
  }
  .madoko .footnote-before {
    margin-left: -1em;
    width: 1em;
    display: inline-block;
  }
  .madoko .align-center, .madoko .align-center>p {
    text-align: center !important;
  }
  .madoko .align-center pre {
    text-align: left;
  }
  .madoko .align-center>* {
    margin-left: auto !important;
    margin-right: auto !important;
  }
  .madoko .align-left, .madoko .align-left>p {
    text-align: left !important;
  }
  .madoko .align-left>* {
    margin-left: 0pt !important;
    margin-right: auto !important;
  }
  .madoko .align-right, .madoko .align-right>p {
    text-align: right !important;
  }
  .madoko .align-right>* {
    margin-left: auto !important;
    margin-right: 0pt !important;
  }
  .madoko .align-center>table,
  .madoko .align-left>table,
  .madoko .align-right>table {
    text-align: left !important;
  }
  .madoko .equation-before {
    float: right;
  }
  .madoko .bibitem {
    font-size: smaller;
  }
  .madoko .bibsearch {
    font-size: x-small;
    text-decoration:none;
    color: black;
    font-family: "Segoe UI Symbol", Symbola, serif;
  }
  .madoko .block, .madoko .figure, .madoko .bibitem, .madoko .equation, .madoko div.math {
    margin-top: 1ex;
    margin-bottom: 1ex;
  }
  .madoko .figure {
    padding: 0.5em;
    margin-left: 0pt;
    margin-right: 0pt;
  }
  .madoko .hidden {
    display: none;
  }
  .madoko .invisible {
    visibility: hidden;
  }
  .madoko.preview .invisible {
    visibility: visible;
    opacity: 0.5;
  }
  .madoko code.code, .madoko span.code {
    white-space: pre-wrap;
  }
  .madoko hr, hr.madoko {
    border: none;
    border-bottom: black solid 1px;
    margin-bottom: 0.5ex;
  }
  .madoko .framed>*:first-child {
    margin-top: 0pt;
  }
  .madoko .framed>*:last-child {
    margin-bottom: 0pt;
  }
  .madoko ul.list-style-type-dash {
      list-style-type: none !important;
  }
  .madoko ul.list-style-type-dash > li:before {
      content: "\2013"; 
      position: absolute;
      margin-left: -1em; 
  }
  .madoko table.madoko {
    border-collapse: collapse;
  }
  .madoko td, .madoko th {
    padding: 0ex 0.5ex;
    margin: 0pt;
    vertical-align: top;
  }
  .madoko .cell-border-left {
    border-left: 1px solid black;
  }
  .madoko .cell-border-right {
    border-right: 1px solid black;
  }
  .madoko thead>tr:first-child>.cell-line,
  .madoko tbody:first-child>tr:first-child>.cell-line {
    border-top: 1px solid black;
    border-bottom: none;
  }
  .madoko .cell-line, .madoko .cell-double-line {
    border-bottom: 1px solid black;
    border-top: none;
  }
  .madoko .cell-double-line {
    border-top: 1px solid black;
    padding-top: 1.5px !important;
  }
  .madoko .input-mathpre .MathJax_Display {
    text-align: left !important;
  }
  .madoko div.input-mathpre {
    text-align: left;
    margin-top: 1.5ex;
    margin-bottom: 1ex;
  }
  .madoko .math-rendering {
    text-align: left;
    white-space: pre;
    color: gray;
  }
  .madoko .mathdisplay {
    text-align: center;
  }
  .madoko .pretty table {
    border-collapse: collapse;
  }
  .madoko .pretty td {
    padding: 0em;
  }
  .madoko .pretty td.empty {
    min-width: 1.5ex;
  }
  .madoko .pretty td.expander {
    width: 100em;
  }
  body.madoko, .madoko .serif {
    font-family: Cambria,"Times New Roman","Liberation Serif","Times",serif;
  }
  .madoko .sans-serif {
    font-family: "Calibri", "Optima", sans-serif;
  }
  .madoko .symbol {
    font-family: "Segoe UI Symbol", Symbola, serif;
  }
  body.madoko {  
    -webkit-text-size-adjust: 100%;       
    text-rendering: optimizeLegibility;
  }
  body.madoko {
    max-width: 88ex; 
    margin: 1em auto;
    padding: 0em 2em;  
  }
  body.preview.madoko {
    padding: 0em 1em;
  }
  .madoko p {
    text-align: justify;
  }
  .madoko h1, .madoko h2, .madoko h3, .madoko h4 { 
    margin-top: 1.22em; 
    margin-bottom: 1ex;
  }
  .madoko h1+p, .madoko h2+p, .madoko h3+p, .madoko h4+p, .madoko h5+p  { 
    margin-top: 1ex;    
  }
  .madoko h5, .madoko h6 { 
    margin-top: 1ex;
    font-size: 1em;
  }
  .madoko h5 { 
    margin-bottom: 0.5ex;
  }
  .madoko h5 + p {
    margin-top: 0.5ex;
  }
  .madoko h6 { 
    margin-bottom: 0pt;
  }
  .madoko h6 + p {
    margin-top: 0pt;
  }
  .madoko pre, .madoko code, .madoko kbd, .madoko samp, .madoko tt, 
  .madoko .monospace, .madoko .token-indent, .madoko .reveal pre, .madoko .reveal code, .madoko .email {
    font-family: Consolas,"Andale Mono WT","Andale Mono",Lucida Console,Monaco,monospace,monospace;
    font-size: 0.85em;
  }
  .madoko pre code, .madoko .token-indent {
    font-size: 0.95em;
  }
  .madoko pre code {
    font-family: inherit !important;
  }
  .madoko ol.linenums li {
    background-color: white;
    list-style-type: decimal;
  }
  .madoko .remote {
    background-color: #F0FFF0;
  }
  .madoko .remote + * {
    margin-top: 0pt;
  }
  @media print {
    body.madoko {
      font-size: 10pt;
    }
    @page {
      margin: 1in 1.5in;
    }
  }
  @media only screen and (max-device-width:1024px) {
    body.madoko {
      padding: 0em 0.5em;    
    }
    .madoko li {
      text-align: left;
    }
  }
  
    </style>
  
  </head>
<body class="madoko">

<div class="body madoko" style="line-adjust:0">

<p class="p noindent para-continue"><br>
</p>
<div class="titleblock align-center para-block" style="text-align:center;line-adjust:0">
<div class="titleheader align-center" style="text-align:center;line-adjust:0">
<div class="title para-block" style="font-size:xx-large;font-weight:bold;margin-bottom:0.5ex;line-adjust:0">A First Attempt at Virtual Memory Management</div></div>
<div class="authors align-center" style="text-align:center;width:80%;line-adjust:0"><table class="authorrow columns block" style="margin-top:2ex;width:100%;line-adjust:0">
<tbody><tr><td class="author column" style="text-align:center;line-adjust:0">
<div class="authorname" style="font-size:large;line-adjust:0">Aaron Yoo</div></td></tr></tbody></table></div></div><span data-line=""></span>
<nav class="toc toc-contents"><h2 id="sec-contents" class="clearnum h1 heading-contents" data-heading-depth="1" style="display:block">Contents</h2>
<div class="tocblock tocblock1">
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-introduction" data-toc-depth="1" data-toc-line="[1]{.heading-label}.&#8194;Introduction" style="toctarget:sec-introduction"><a href="#sec-introduction" class="localref"><span class="heading-label">1</span>.&#8194;Introduction</a></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-memory-management-scheme" data-toc-depth="1" data-toc-line="[2]{.heading-label}.&#8194;Memory Management Scheme" style="toctarget:sec-memory-management-scheme"><a href="#sec-memory-management-scheme" class="localref"><span class="heading-label">2</span>.&#8194;Memory Management Scheme</a></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-kernel-preparation-and-paging" data-toc-depth="1" data-toc-line="[3]{.heading-label}.&#8194;Kernel Preparation and Paging" style="toctarget:sec-kernel-preparation-and-paging"><a href="#sec-kernel-preparation-and-paging" class="localref"><span class="heading-label">3</span>.&#8194;Kernel Preparation and Paging</a></div>
<div class="tocblock tocblock2">
<div class="tocitem tocitem2" data-toc-target-elem="h2" data-toc-target="sec-getting-the-memory-map" data-toc-depth="2" data-toc-line="[3.1]{.heading-label}.&#8194;Getting the Memory Map" style="toctarget:sec-getting-the-memory-map"><a href="#sec-getting-the-memory-map" class="localref"><span class="heading-label">3.1</span>.&#8194;Getting the Memory Map</a></div>
<div class="tocitem tocitem2" data-toc-target-elem="h2" data-toc-target="sec-paging-structures" data-toc-depth="2" data-toc-line="[3.2]{.heading-label}.&#8194;Paging Structures" style="toctarget:sec-paging-structures"><a href="#sec-paging-structures" class="localref"><span class="heading-label">3.2</span>.&#8194;Paging Structures</a></div>
<div class="tocitem tocitem2" data-toc-target-elem="h2" data-toc-target="sec-knowing-where-the-kernel-ends" data-toc-depth="2" data-toc-line="[3.3]{.heading-label}.&#8194;Knowing Where the Kernel Ends" style="toctarget:sec-knowing-where-the-kernel-ends"><a href="#sec-knowing-where-the-kernel-ends" class="localref"><span class="heading-label">3.3</span>.&#8194;Knowing Where the Kernel Ends</a></div></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-page-frame-allocator" data-toc-depth="1" data-toc-line="[4]{.heading-label}.&#8194;Page Frame Allocator" style="toctarget:sec-page-frame-allocator"><a href="#sec-page-frame-allocator" class="localref"><span class="heading-label">4</span>.&#8194;Page Frame Allocator</a></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-page-table-allocator" data-toc-depth="1" data-toc-line="[5]{.heading-label}.&#8194;Page Table Allocator" style="toctarget:sec-page-table-allocator"><a href="#sec-page-table-allocator" class="localref"><span class="heading-label">5</span>.&#8194;Page Table Allocator</a></div>
<div class="tocblock tocblock2">
<div class="tocitem tocitem2" data-toc-target-elem="h2" data-toc-target="sec-heap-allocator" data-toc-depth="2" data-toc-line="[5.1]{.heading-label}.&#8194;Heap Allocator" style="toctarget:sec-heap-allocator"><a href="#sec-heap-allocator" class="localref"><span class="heading-label">5.1</span>.&#8194;Heap Allocator</a></div></div>
<div class="tocitem tocitem1" data-toc-target-elem="h1" data-toc-target="sec-conclusion" data-toc-depth="1" data-toc-line="[6]{.heading-label}.&#8194;Conclusion" style="toctarget:sec-conclusion"><a href="#sec-conclusion" class="localref"><span class="heading-label">6</span>.&#8194;Conclusion</a></div></div></nav><h2 id="sec-introduction" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">1</span>.&#8194;</span>Introduction</h2>
<p class="p noindent">A few weeks ago, I reached a stage with my personal OS project TorchOS in which I needed to write a virtual memory manager. A memory manager is necessary for all interesting work in both the kernelspace and userspace because almost all programs need to allocate some kind of memory. Distilled to its core, writing a memory manager means writing a malloc-like interface. In my implementation I renamed this interface <code class="code code1">kalloc</code> to stand for &#8220;kernel-allocate&#8221; (in order to not be confused with the well known <code class="code code1">malloc</code>).
</p>
<p class="p indent">Many engineers have written a malloc implementation or a slab allocator of some kind. This task is well understood and there are public implementations available online. However, writing a &#8220;kernel&#8221; malloc (kalloc in my case) is a bit trickier. First, any kernel memory subsystem is almost by definition tightly coupled with the paging and virtual memory structures of the kernel. Once paging is enabled, the kernel can only issue virtual addresses; yet at the same time, the kernel must also be able to keep track of physical memory and reason about physical addresses to put into page tables. I expand more on this problem in the following sections. Second, designing a kernel memory manager must address the questions of &#8220;why&#8221; and &#8220;where&#8221; instead of just &#8220;how&#8221;. Where must the memory for the allocator be located? Why should there be allocation in a tiered fashion? Many of these issues are irrelevant to a malloc implementation as it just asks the operating system when it needs more memory, typically by calling sbrk. This approach of delegating to the OS doesn&#39;t work when&#8230;.you are writing the OS.
</p>
<p class="p indent">To be clear, my current writing is not meant as a guide (not a good one at least). If by chance you have stumbled upon this in my little corner of the internet, there is a good chance that you have more knowledge on this topic than I. My only hope for this writing is that one day I will be able to look back and reminisce, perhaps about a time when things were simpler.
</p><h2 id="sec-memory-management-scheme" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">2</span>.&#8194;</span>Memory Management Scheme</h2>
<blockquote>

<p class="p noindent">No Plan Survives First Contact with the Enemy 
<br>— Helmuth von Moltke
</p></blockquote>
<p class="p noindent">My memory management scheme is&#8230; ad-hoc, to put it nicely. From principle, I knew that I would need a hierarchical memory manager to allocate memory at different granularities. But the details of creating something like this eluded me. After a few weeks of being stuck, I was able to come up with a memory allocation scheme that worked. Many of the issues that I ran into are recalled in more detail in the following sections. Here what my kernel does in chronological order with respect to the kernel boot process:
</p>
<ol class="ol compact">
<li class="li ol-li compact-li">Get a Memory Map from GRUB
</li>
<li class="li ol-li compact-li">Identity Map the entire Kernel
</li>
<li class="li ol-li compact-li">Identity Map the Page Table Reserved Area
</li>
<li class="li ol-li compact-li">Initialize the Frame Allocator
</li>
<li class="li ol-li compact-li">Initialize the Page Table Allocator
</li>
<li class="li ol-li compact-li">Initialize the Heap Allocator
</li>
<li class="li ol-li compact-li">Enable Paging
</li></ol>

<p class="p noindent">But for the sake of pedagogy, I think it is more helpful to discuss memory management by topic instead of by chronological ordering. At a high level, the events described above can be categorized into 4 main areas:
</p>
<ol class="ol compact">
<li class="li ol-li compact-li">Kernel Preparation and Paging
</li>
<li class="li ol-li compact-li">Page Frame Allocator
</li>
<li class="li ol-li compact-li">Page Table Allocator + Reserved Area
</li>
<li class="li ol-li compact-li">Heap Allocator
</li></ol>

<p class="p noindent">The following is a summary of each of these areas, explaining some of the relevant theory and my implementation.
</p><h2 id="sec-kernel-preparation-and-paging" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">3</span>.&#8194;</span>Kernel Preparation and Paging</h2>
<p class="p noindent">There are few tasks that a kernel needs to do to start a memory subsystem.
</p><h3 id="sec-getting-the-memory-map" class="h2" data-heading-depth="2" style="display:block"><span class="heading-before"><span class="heading-label">3.1</span>.&#8194;</span>Getting the Memory Map</h3>
<p class="p noindent">To have a memory allocation scheme, you need to know what physical memory is available. Any bootloader worth its salt will provide the kernel with a memory map. I chose to use GRUB, which provides my kernel with a memory map. After unpacking the memory map in my kernel, it looks something like this:
</p>
<div class="center align-center" style="text-align:center"><table class="madoko block">
<thead><tr><th class="col thead tr-odd tr-last tr-first col-odd col-first" data-row="1" data-col="1" style="font-weight:bold;text-align:center"> Segment </th><th class="col thead tr-odd tr-last tr-first col-even" data-row="1" data-col="2" style="font-weight:bold;text-align:center"> Base Address </th><th class="col thead tr-odd tr-last tr-first col-odd" data-row="1" data-col="3" style="font-weight:bold;text-align:center"> Length       </th><th class="col thead tr-odd tr-last tr-first col-even col-last" data-row="1" data-col="4" style="font-weight:bold;text-align:center"> Type      </th></tr></thead>
<tbody><tr><td class="tbody tr-even col cell-line col-odd col-first" data-row="0" data-col="1" style="text-align:center"></td><td class="tbody tr-even col cell-line col-even" data-row="0" data-col="2" style="text-align:center"></td><td class="tbody tr-even col cell-line col-odd" data-row="0" data-col="3" style="text-align:center"></td><td class="tbody tr-even col cell-line col-even col-last" data-row="0" data-col="4" style="text-align:center"></td></tr>
<tr><td class="tbody tr-odd tr-first col col-odd col-first" data-row="1" data-col="1" style="text-align:center"> 1       </td><td class="tbody tr-odd tr-first col col-even" data-row="1" data-col="2" style="text-align:center"> <code class="code code1">0x00000000</code> </td><td class="tbody tr-odd tr-first col col-odd" data-row="1" data-col="3" style="text-align:center"> <code class="code code1">0x0009FC00</code> </td><td class="tbody tr-odd tr-first col col-even col-last" data-row="1" data-col="4" style="text-align:center"> Available </td></tr>
<tr><td class="tbody tr-even col col-odd col-first" data-row="2" data-col="1" style="text-align:center"> 2       </td><td class="tbody tr-even col col-even" data-row="2" data-col="2" style="text-align:center"> <code class="code code1">0x0009FC00</code> </td><td class="tbody tr-even col col-odd" data-row="2" data-col="3" style="text-align:center"> <code class="code code1">0x00000400</code> </td><td class="tbody tr-even col col-even col-last" data-row="2" data-col="4" style="text-align:center"> Reserved  </td></tr>
<tr><td class="tbody tr-odd col col-odd col-first" data-row="3" data-col="1" style="text-align:center"> 3       </td><td class="tbody tr-odd col col-even" data-row="3" data-col="2" style="text-align:center"> <code class="code code1">0x000F0000</code> </td><td class="tbody tr-odd col col-odd" data-row="3" data-col="3" style="text-align:center"> <code class="code code1">0x00010000</code> </td><td class="tbody tr-odd col col-even col-last" data-row="3" data-col="4" style="text-align:center"> Reserved  </td></tr>
<tr><td class="tbody tr-even col col-odd col-first" data-row="4" data-col="1" style="text-align:center"> 4       </td><td class="tbody tr-even col col-even" data-row="4" data-col="2" style="text-align:center"> <code class="code code1">0x00100000</code> </td><td class="tbody tr-even col col-odd" data-row="4" data-col="3" style="text-align:center"> <code class="code code1">0x3FEE0000</code> </td><td class="tbody tr-even col col-even col-last" data-row="4" data-col="4" style="text-align:center"> Available </td></tr>
<tr><td class="tbody tr-odd col col-odd col-first" data-row="5" data-col="1" style="text-align:center"> 5       </td><td class="tbody tr-odd col col-even" data-row="5" data-col="2" style="text-align:center"> <code class="code code1">0x3FFE0000</code> </td><td class="tbody tr-odd col col-odd" data-row="5" data-col="3" style="text-align:center"> <code class="code code1">0x00020000</code> </td><td class="tbody tr-odd col col-even col-last" data-row="5" data-col="4" style="text-align:center"> Reserved  </td></tr>
<tr><td class="tbody tr-even tr-last col col-odd col-first" data-row="6" data-col="1" style="text-align:center"> 6       </td><td class="tbody tr-even tr-last col col-even" data-row="6" data-col="2" style="text-align:center"> <code class="code code1">0xFFFC0000</code> </td><td class="tbody tr-even tr-last col col-odd" data-row="6" data-col="3" style="text-align:center"> <code class="code code1">0x00040000</code> </td><td class="tbody tr-even tr-last col col-even col-last" data-row="6" data-col="4" style="text-align:center"> Reserved  </td></tr></tbody></table></div>
<p class="p noindent">As you can see, there are certain areas of memory that are reserved for boot information or DMA/ACPI devices. The main area of RAM is denoted by the 4th segment (you can tell because it is much much larger than the other segments). Knowing the memory map provides clarity on what physical addresses you can and cannot use. I found it helpful to draw pictures of physical memory when I was writing the memory manager so I will do the same here. Below is a current representation of the RAM we can use (an empty array):
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:8.8614em;width:32.8629em" viewBox='51.94 51.671 312.98 84.394' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,300); %set diagram left start at 0, and has height of 300

%Shape: Rectangle [id:dp5552694311533886] 
\draw   (93.03,68) -- (467.41,68) -- (467.41,163.57) -- (93.03,163.57) -- cycle ;

% Text Node
\draw (92.13,174.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (466.18,176.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (280.22,115.78) node [scale=0.8] [align=left] {Empty Space};


\end{tikzpicture}</desc><g id='math-7a6f9b'><path d='M66.854 52.246H346.597V123.66H66.854Z' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 53.999 133.294)'><use x='-2.657' xlink:href='#gfull0-48' y='1.437'/><use x='2.324' xlink:href='#gfull0-120' y='1.437'/><use x='7.582' xlink:href='#gfull0-49' y='1.437'/><use x='12.563' xlink:href='#gfull0-48' y='1.437'/><use x='17.545' xlink:href='#gfull0-48' y='1.437'/><use x='22.526' xlink:href='#gfull0-48' y='1.437'/><use x='27.508' xlink:href='#gfull0-48' y='1.437'/><use x='32.489' xlink:href='#gfull0-48' y='1.437'/></g><g transform='matrix(0.7 0 0 0.7 328.213 134.707)'><use x='-2.657' xlink:href='#gfull0-48' y='1.437'/><use x='2.324' xlink:href='#gfull0-120' y='1.437'/><use x='7.582' xlink:href='#gfull0-51' y='1.437'/><use x='12.563' xlink:href='#gfull0-70' y='1.437'/><use x='19.067' xlink:href='#gfull0-69' y='1.437'/><use x='25.847' xlink:href='#gfull0-69' y='1.437'/><use x='32.627' xlink:href='#gfull0-48' y='1.437'/><use x='37.609' xlink:href='#gfull0-48' y='1.437'/><use x='42.59' xlink:href='#gfull0-48' y='1.437'/><use x='47.571' xlink:href='#gfull0-48' y='1.437'/></g><g transform='matrix(0.8 0 0 0.8 185.772 88.744)'><use x='-2.657' xlink:href='#gfull0-69' y='1.437'/><use x='4.123' xlink:href='#gfull0-109' y='1.437'/><use x='12.425' xlink:href='#gfull0-112' y='1.437'/><use x='17.96' xlink:href='#gfull0-116' y='1.437'/><use x='21.558' xlink:href='#gfull0-121' y='1.437'/><use x='30.137' xlink:href='#gfull0-83' y='1.437'/><use x='35.671' xlink:href='#gfull0-112' y='1.437'/><use x='41.206' xlink:href='#gfull0-97' y='1.437'/><use x='46.187' xlink:href='#gfull0-99' y='1.437'/><use x='50.615' xlink:href='#gfull0-101' y='1.437'/></g></g></svg></div></div><h3 id="sec-paging-structures" class="h2" data-heading-depth="2" style="display:block"><span class="heading-before"><span class="heading-label">3.2</span>.&#8194;</span>Paging Structures</h3>
<p class="p noindent">Paging structures are essentially a prerequisite for memory management. There are many different ways to do this but the easiest for me was:
</p>
<ol class="ol compact">
<li class="li ol-li compact-li"><strong class="strong-star2">Identity Map the Kernel</strong>: identity mapping means that the kernel exists at the same virtual and physical addresses. Another way of thinking about this is that any page that contains kernel code is mapped to itself. There are a couple of reasons why you might not want to do this, but it makes things quite simple so I chose to proceed by identity mapping the entire kernel.
</li>
<li class="li ol-li compact-li"><strong class="strong-star2">Statically Allocate Initial Page Tables</strong>: I found it important to have a few statically allocated page tables (basically global variables in C). The necessity of these statically allocated tables became clear when I asked the question: &#8220;How am I supposed to identity map the kernel if I can&#39;t even allocate a page table for the mapping?&#8221; The answer to this question is that you don&#39;t dynamically allocate a page table, you just statically allocate it in your kernel. This may seem hacky, but I like to think of it as a bootstrapping step. To illustrate:
</li></ol>

<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code>  <span style="color:darkgreen">// Statically allocate the first and second page tables as global variables</span>
  uint32_t first_page_table[<span class="constant" style="color:purple">1024</span>] __attribute__((aligned(<span style="color:teal">PAGE_SIZE</span>)));
  uint32_t second_page_table[<span class="constant" style="color:purple">1024</span>] __attribute__((aligned(<span style="color:teal">PAGE_SIZE</span>)));

  <span style="color:darkgreen">//.......</span>
  <span style="color:darkgreen">//.......</span>

  <span style="color:darkgreen">// Put the initial page tables in the page directory</span>
  page_directory[<span class="constant" style="color:purple">0</span>] = ((uint32_t) first_page_table) | <span class="constant" style="color:purple">3</span>; <span style="color:darkgreen">// read/write + present</span>
  page_directory[<span class="constant" style="color:purple">1</span>] = ((uint32_t) second_page_table) | <span class="constant" style="color:purple">3</span>;</code></pre>
<ol class="ol compact" start="3">
<li class="li ol-li compact-li"><strong class="strong-star2">Provide Adequate Page Table Manipulation Functions</strong>: Your memory manager needs to be able to map and unmap memory. Having functions that manipulate entries in the page tables to map pages is essential. At the very least, a function with a declaration like this will suffice:
</li></ol>

<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code>  <span style="color:teal">void</span> map_page(uint32_t* kernel_page_directory, uint32_t virtual_address, uint32_t physical_address) {
    ....
  }</code></pre><h3 id="sec-knowing-where-the-kernel-ends" class="h2" data-heading-depth="2" style="display:block"><span class="heading-before"><span class="heading-label">3.3</span>.&#8194;</span>Knowing Where the Kernel Ends</h3>
<p class="p noindent">The problem with having the kernel at the start of memory is that you need to figure out where it ends in order to place stuff after it. Also, if it ever gets larger than the space we budgeted, then you will have to move things around. For this reason, people sometimes recommend a&nbsp;<a href="https://wiki.osdev.org/Higher_Half_Kernel">Higher Half Kernel</a>. I chose not to do this and since my kernel is growing slowly, I found that setting an upper bound on the end address of the kernel is a reasonable price to pay. Finding out where exactly you kernel ends can be a bit difficult. I took the easy way out and looked at the actual size of the kernel binary and allocated a large amount of space accordingly. This process can be made more precise if you want the linker involved, but you probably don&#39;t. I simply used preprocessor macros to denote the region of memory reserved for the kernel:
</p>
<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code><span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> KERNEL_START 0x00100000</span>
<span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> KERNEL_END   0x00300000</span></code></pre>
<p class="p noindent para-continued">Now we can update our physical memory map (not drawn to scale):
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:10.2821em;width:32.8629em" viewBox='105.737 51.671 312.98 97.925' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,300); %set diagram left start at 0, and has height of 300

%Shape: Rectangle [id:dp5552694311533886] 
\draw   (93.03,68) -- (467.41,68) -- (467.41,163.57) -- (93.03,163.57) -- cycle ;
%Straight Lines [id:da984059016838253] 
\draw    (150.5,68) -- (150.5,183) ;



% Text Node
\draw (92.13,174.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (466.18,176.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (122.22,113.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (151.13,194.81) node [scale=0.7] [align=left] {0x300000};


\end{tikzpicture}</desc><g id='math-029a78'><path d='M120.653 52.246H400.395V123.66H120.653Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M163.594 52.246V138.175' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 70.137 133.294)'><use x='51.141' xlink:href='#gfull0-48' y='1.437'/><use x='56.122' xlink:href='#gfull0-120' y='1.437'/><use x='61.38' xlink:href='#gfull0-49' y='1.437'/><use x='66.362' xlink:href='#gfull0-48' y='1.437'/><use x='71.343' xlink:href='#gfull0-48' y='1.437'/><use x='76.324' xlink:href='#gfull0-48' y='1.437'/><use x='81.306' xlink:href='#gfull0-48' y='1.437'/><use x='86.287' xlink:href='#gfull0-48' y='1.437'/></g><g transform='matrix(0.7 0 0 0.7 344.351 134.707)'><use x='51.141' xlink:href='#gfull0-48' y='1.437'/><use x='56.122' xlink:href='#gfull0-120' y='1.437'/><use x='61.38' xlink:href='#gfull0-51' y='1.437'/><use x='66.362' xlink:href='#gfull0-70' y='1.437'/><use x='72.865' xlink:href='#gfull0-69' y='1.437'/><use x='79.645' xlink:href='#gfull0-69' y='1.437'/><use x='86.425' xlink:href='#gfull0-48' y='1.437'/><use x='91.407' xlink:href='#gfull0-48' y='1.437'/><use x='96.388' xlink:href='#gfull0-48' y='1.437'/><use x='101.369' xlink:href='#gfull0-48' y='1.437'/></g><g transform='matrix(0.8 0 0 0.8 90.028 88.069)'><use x='51.141' xlink:href='#gfull0-75' y='1.437'/><use x='58.89' xlink:href='#gfull0-101' y='1.437'/><use x='63.318' xlink:href='#gfull0-114' y='1.437'/><use x='67.22' xlink:href='#gfull0-110' y='1.437'/><use x='72.754' xlink:href='#gfull0-101' y='1.437'/><use x='77.182' xlink:href='#gfull0-108' y='1.437'/></g><g transform='matrix(0.7 0 0 0.7 114.222 148.238)'><use x='51.141' xlink:href='#gfull0-48' y='1.437'/><use x='56.122' xlink:href='#gfull0-120' y='1.437'/><use x='61.38' xlink:href='#gfull0-51' y='1.437'/><use x='66.362' xlink:href='#gfull0-48' y='1.437'/><use x='71.343' xlink:href='#gfull0-48' y='1.437'/><use x='76.324' xlink:href='#gfull0-48' y='1.437'/><use x='81.306' xlink:href='#gfull0-48' y='1.437'/><use x='86.287' xlink:href='#gfull0-48' y='1.437'/></g></g></svg></div></div><h2 id="sec-page-frame-allocator" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">4</span>.&#8194;</span>Page Frame Allocator</h2>
<p class="p noindent">Now that page frames can be mapped in on demand, it is time to start allocating. When I was writing my allocator, I didn&#39;t know how to start. Should I start allocating arbitrary amounts? Where should these allocations be? A page size (4096 bytes on my 32-bit OS) arises as a natural granularity for the size of allocations. Thus, a page frame allocator is what we need. Making an allocator like this requires a reserved physical space for pages. This is important because otherwise, we would not know what physical memory is available for allocation. Since the page frame allocator is going to support all our other allocators, it makes sense to reserve a large space for the page frame allocator (note that these are physical addresses):
</p>
<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code><span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> PAGE_FRAME_ALLOCATOR_AREA_START 0x00900000</span>
<span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> PAGE_FRAME_ALLOCATOR_AREA_END 0x0F000000</span></code></pre>
<p class="p noindent para-continued">Here is our updated <strong class="strong-star2">physical</strong> memory map (again, not drawn to scale)
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:12.9418em;width:32.8629em" viewBox='51.94 53.846 312.98 123.255' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,300); %set diagram left start at 0, and has height of 300

%Shape: Rectangle [id:dp5552694311533886] 
\draw   (93.03,68) -- (467.41,68) -- (467.41,163.57) -- (93.03,163.57) -- cycle ;
%Straight Lines [id:da984059016838253] 
\draw    (150.5,68) -- (150.5,183) ;


%Straight Lines [id:da15763882112951344] 
\draw    (192.5,50) -- (192.5,163) ;


%Straight Lines [id:da43137822370642986] 
\draw    (277.5,68) -- (277.5,181) ;



% Text Node
\draw (92.13,174.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (466.18,176.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (121.22,113.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (151.13,194.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (192.13,36.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (277.13,192.81) node [scale=0.7] [align=left] {0x0F000000};
% Text Node
\draw (236.22,114.78) node [scale=0.8] [align=left] {Page\\Frame\\Area};


\end{tikzpicture}</desc><g id='math-4f1463'><path d='M66.854 79.749H346.597V151.163H66.854Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M109.796 79.749V165.678' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M141.179 66.3V150.733' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M204.695 79.749V164.186' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 53.999 141.546)'><use x='-2.657' xlink:href='#gfull0-48' y='28.94'/><use x='2.324' xlink:href='#gfull0-120' y='28.94'/><use x='7.582' xlink:href='#gfull0-49' y='28.94'/><use x='12.563' xlink:href='#gfull0-48' y='28.94'/><use x='17.545' xlink:href='#gfull0-48' y='28.94'/><use x='22.526' xlink:href='#gfull0-48' y='28.94'/><use x='27.508' xlink:href='#gfull0-48' y='28.94'/><use x='32.489' xlink:href='#gfull0-48' y='28.94'/></g><g transform='matrix(0.7 0 0 0.7 328.213 142.959)'><use x='-2.657' xlink:href='#gfull0-48' y='28.94'/><use x='2.324' xlink:href='#gfull0-120' y='28.94'/><use x='7.582' xlink:href='#gfull0-51' y='28.94'/><use x='12.563' xlink:href='#gfull0-70' y='28.94'/><use x='19.067' xlink:href='#gfull0-69' y='28.94'/><use x='25.847' xlink:href='#gfull0-69' y='28.94'/><use x='32.627' xlink:href='#gfull0-48' y='28.94'/><use x='37.609' xlink:href='#gfull0-48' y='28.94'/><use x='42.59' xlink:href='#gfull0-48' y='28.94'/><use x='47.571' xlink:href='#gfull0-48' y='28.94'/></g><g transform='matrix(0.8 0 0 0.8 78.522 93.57)'><use x='-2.657' xlink:href='#gfull0-75' y='28.94'/><use x='5.091' xlink:href='#gfull0-101' y='28.94'/><use x='9.519' xlink:href='#gfull0-114' y='28.94'/><use x='13.421' xlink:href='#gfull0-110' y='28.94'/><use x='18.956' xlink:href='#gfull0-101' y='28.94'/><use x='23.384' xlink:href='#gfull0-108' y='28.94'/></g><g transform='matrix(0.7 0 0 0.7 98.085 156.49)'><use x='-2.657' xlink:href='#gfull0-48' y='28.94'/><use x='2.324' xlink:href='#gfull0-120' y='28.94'/><use x='7.582' xlink:href='#gfull0-51' y='28.94'/><use x='12.563' xlink:href='#gfull0-48' y='28.94'/><use x='17.545' xlink:href='#gfull0-48' y='28.94'/><use x='22.526' xlink:href='#gfull0-48' y='28.94'/><use x='27.508' xlink:href='#gfull0-48' y='28.94'/><use x='32.489' xlink:href='#gfull0-48' y='28.94'/></g><g transform='matrix(0.7 0 0 0.7 125.233 38.431)'><use x='-2.657' xlink:href='#gfull0-48' y='28.94'/><use x='2.324' xlink:href='#gfull0-120' y='28.94'/><use x='7.582' xlink:href='#gfull0-48' y='28.94'/><use x='12.563' xlink:href='#gfull0-48' y='28.94'/><use x='17.545' xlink:href='#gfull0-57' y='28.94'/><use x='22.526' xlink:href='#gfull0-48' y='28.94'/><use x='27.508' xlink:href='#gfull0-48' y='28.94'/><use x='32.489' xlink:href='#gfull0-48' y='28.94'/><use x='37.47' xlink:href='#gfull0-48' y='28.94'/><use x='42.452' xlink:href='#gfull0-48' y='28.94'/></g><g transform='matrix(0.7 0 0 0.7 188.213 155.131)'><use x='-2.657' xlink:href='#gfull0-48' y='28.94'/><use x='2.324' xlink:href='#gfull0-120' y='28.94'/><use x='7.582' xlink:href='#gfull0-48' y='28.94'/><use x='12.563' xlink:href='#gfull0-70' y='28.94'/><use x='19.067' xlink:href='#gfull0-48' y='28.94'/><use x='24.048' xlink:href='#gfull0-48' y='28.94'/><use x='29.03' xlink:href='#gfull0-48' y='28.94'/><use x='34.011' xlink:href='#gfull0-48' y='28.94'/><use x='38.992' xlink:href='#gfull0-48' y='28.94'/><use x='43.974' xlink:href='#gfull0-48' y='28.94'/></g><g transform='matrix(0.8 0 0 0.8 165.06 103.837)'><use x='-2.657' xlink:href='#gfull0-80' y='5.03'/><use x='3.846' xlink:href='#gfull0-97' y='5.03'/><use x='8.827' xlink:href='#gfull0-103' y='5.03'/><use x='13.809' xlink:href='#gfull0-101' y='5.03'/><use x='-2.657' xlink:href='#gfull0-70' y='16.985'/><use x='3.016' xlink:href='#gfull0-114' y='16.985'/><use x='6.918' xlink:href='#gfull0-97' y='16.985'/><use x='11.899' xlink:href='#gfull0-109' y='16.985'/><use x='20.202' xlink:href='#gfull0-101' y='16.985'/><use x='-2.657' xlink:href='#gfull0-65' y='28.94'/><use x='4.815' xlink:href='#gfull0-114' y='28.94'/><use x='8.717' xlink:href='#gfull0-101' y='28.94'/><use x='13.145' xlink:href='#gfull0-97' y='28.94'/></g></g></svg></div></div>
<p class="p noindent">My current page frame allocator is a simple bitmap allocator that uses a bitmap to keep track of which pages have been allocated. A bitmap allocator works in this context because each allocation is a constant size of one page. For each allocation request, my allocator looks at the bitmap and allocates the earliest unallocated page. The bitmap can be allocated statically and calculating the size is simple math on your reserved memory bounds. Here is the code for initializing my page frame allocator; the code for actually allocating in the bitmap allocator is a bit too long to be included but is viewable on the&nbsp;<a href="https://github.com/aaronyoo/torch-os">project Github</a>:
</p>
<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code><span style="color:darkgreen">// Calculate the correct sized bitmap for page from allocator</span>
<span style="color:navy">#</span><span style="color:navy">define</span><span style="color:maroon"> BITMAP_SIZE (PAGE_FRAME_ALLOCATOR_AREA_END - PAGE_FRAME_ALLOCATOR_AREA_START) / 4096 / 32  </span>
uint32_t bitmap[<span style="color:teal">BITMAP_SIZE</span>];

<span style="color:teal">void</span> init_page_frame_allocator() {
    <span style="color:darkgreen">// Clear the bitmap (all pages are unmapped)</span>
    memset(bitmap, <span class="constant" style="color:purple">0</span>, <span style="color:blue">sizeof</span>(bitmap));

    <span style="color:darkgreen">// Make sure the allocator starts and ends at a page aligned address</span>
    <span style="color:blue">if</span> (<span style="color:teal">PAGE_FRAME_ALLOCATOR_AREA_START</span> % <span style="color:teal">PAGE_SIZE</span> != <span class="constant" style="color:purple">0</span>) {
        panic(<span style="color:maroon">&quot;</span><span style="color:maroon">Page Frame Allocator does not start at a page aligned address!</span><span style="color:maroon">&quot;</span>);
    }
    <span style="color:blue">if</span> (<span style="color:teal">PAGE_FRAME_ALLOCATOR_AREA_END</span> % <span style="color:teal">PAGE_SIZE</span> != <span class="constant" style="color:purple">0</span>) {
        panic(<span style="color:maroon">&quot;</span><span style="color:maroon">Page Frame Allocator does not end at a page aligned address!</span><span style="color:maroon">&quot;</span>);
    }
}</code></pre>
<p class="p noindent para-continued">Before moving on to the next section I think a whole paragraph should be dedicated to a paradigm shifting idea. I think that the reason writing this page frame allocation code was so hard for me was because I could not fathom the idea of allocating in a space that you can&#39;t address. While the end result of a page frame allocation will be a new page frame at a chosen address in virtual memory, you can also think of it as a physical page allocation that is then mapped into virtual memory at a specified address. Thus, I classify my page frame allocator as a <strong class="strong-star2">physical</strong> allocator because it works with physical addresses. The hurdle for me was being comfortable working with these physical addresses knowing that dereferencing them would be an error (since paging would be enabled). This problem also made me realize that I would essentially need to keep two memory maps, a virtual and a physical. The virtual memory map would be a typical memory map such that if you issue an address you can view a certain region of the map. On the other hand, the physical memory address would be much less concrete as you would not be able to directly address it to check the validity of your map. Instead, there is implicit trust in the data structures that perform bookkeeping for the physical memory.
</p><h2 id="sec-page-table-allocator" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">5</span>.&#8194;</span>Page Table Allocator</h2>
<p class="p noindent">Once you have a page frame allocator working, you will quickly realize the need for a page table allocator. Every time you allocate a page it must go in a page table that exists in the page directory. Sometimes the page table doesn’t exist yet and you need to create a new one on demand. To do this, one might think to use the page frame allocator to allocate the page table (since they are the same size). However, this will not work due to an edge case where allocating a page frame actually requires a new page table. To allocate a page table you need a page frame but to allocate a page frame you may need to get a new page table to put in the page directory. One can see the circular dependency here. This chicken and egg problem needs to be solved.
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:23.6574em;width:37.7015em" viewBox='103.41 51.674 359.062 225.309' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,300); %set diagram left start at 0, and has height of 300

%Shape: Rectangle [id:dp46845388803255616] 
\draw   (90.5,124) -- (255.5,124) -- (255.5,185) -- (90.5,185) -- cycle ;

%Shape: Rectangle [id:dp39153707197102783] 
\draw   (404.5,124) -- (569.5,124) -- (569.5,185) -- (404.5,185) -- cycle ;

%Curve Lines [id:da6439998997470888] 
\draw    (155.5,124) .. controls (248.5,30) and (364.5,-5) .. (458.5,97) ;


\draw   (457.8,77.01) -- (470.46,107.59) -- (438.29,99.8) -- (459.25,98) -- cycle ;
%Curve Lines [id:da9743154310280446] 
\draw    (190.5,211) .. controls (268.5,295) and (421.5,295) .. (493.5,184) ;


\draw   (189.11,231.04) -- (178.8,199.59) -- (210.29,209.78) -- (189.25,210) -- cycle ;

% Text Node
\draw (173,154.5) node  [align=left] {Allocate Page Frame};
% Text Node
\draw (487,154.5) node  [align=left] {Allocate Page Table};
% Text Node
\draw (331,82) node  [align=left] {may call if no page \\table present for \\allocated address};
% Text Node
\draw (331,242) node  [align=left] {will always call};


\end{tikzpicture}</desc><g id='math-05e537'><path d='M103.985 148.635H227.274V194.217H103.985Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M338.61 148.635H461.899V194.217H338.61Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M152.555 148.635C222.044 78.401 308.719 52.248 378.958 128.463' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M378.434 113.526L387.895 136.373L363.856 130.553L379.52 129.209Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M178.708 213.643C236.989 276.409 351.313 276.409 405.11 193.467' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M177.669 228.62L169.966 205.12L193.493 212.733L177.774 212.897Z' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(1 0 0 1 83.866 117.932)'><use x='36.364' xlink:href='#gfull0-65' y='55.983'/><use x='43.836' xlink:href='#gfull0-108' y='55.983'/><use x='46.603' xlink:href='#gfull0-108' y='55.983'/><use x='49.37' xlink:href='#gfull0-111' y='55.983'/><use x='54.629' xlink:href='#gfull0-99' y='55.983'/><use x='59.056' xlink:href='#gfull0-97' y='55.983'/><use x='64.038' xlink:href='#gfull0-116' y='55.983'/><use x='67.912' xlink:href='#gfull0-101' y='55.983'/><use x='75.661' xlink:href='#gfull0-80' y='55.983'/><use x='82.164' xlink:href='#gfull0-97' y='55.983'/><use x='87.146' xlink:href='#gfull0-103' y='55.983'/><use x='92.127' xlink:href='#gfull0-101' y='55.983'/><use x='99.876' xlink:href='#gfull0-70' y='55.983'/><use x='105.549' xlink:href='#gfull0-114' y='55.983'/><use x='109.451' xlink:href='#gfull0-97' y='55.983'/><use x='114.432' xlink:href='#gfull0-109' y='55.983'/><use x='122.734' xlink:href='#gfull0-101' y='55.983'/></g><g transform='matrix(1 0 0 1 320.095 117.932)'><use x='36.364' xlink:href='#gfull0-65' y='55.983'/><use x='43.836' xlink:href='#gfull0-108' y='55.983'/><use x='46.603' xlink:href='#gfull0-108' y='55.983'/><use x='49.37' xlink:href='#gfull0-111' y='55.983'/><use x='54.629' xlink:href='#gfull0-99' y='55.983'/><use x='59.056' xlink:href='#gfull0-97' y='55.983'/><use x='64.038' xlink:href='#gfull0-116' y='55.983'/><use x='67.912' xlink:href='#gfull0-101' y='55.983'/><use x='75.661' xlink:href='#gfull0-80' y='55.983'/><use x='82.164' xlink:href='#gfull0-97' y='55.983'/><use x='87.146' xlink:href='#gfull0-103' y='55.983'/><use x='92.127' xlink:href='#gfull0-101' y='55.983'/><use x='99.876' xlink:href='#gfull0-84' y='55.983'/><use x='106.241' xlink:href='#gfull0-97' y='55.983'/><use x='111.222' xlink:href='#gfull0-98' y='55.983'/><use x='116.757' xlink:href='#gfull0-108' y='55.983'/><use x='119.524' xlink:href='#gfull0-101' y='55.983'/></g><g transform='matrix(1 0 0 1 205.952 76.683)'><use x='36.364' xlink:href='#gfull0-109' y='32.072'/><use x='44.666' xlink:href='#gfull0-97' y='32.072'/><use x='49.37' xlink:href='#gfull0-121' y='32.072'/><use x='57.949' xlink:href='#gfull0-99' y='32.072'/><use x='62.377' xlink:href='#gfull0-97' y='32.072'/><use x='67.359' xlink:href='#gfull0-108' y='32.072'/><use x='70.126' xlink:href='#gfull0-108' y='32.072'/><use x='76.214' xlink:href='#gfull0-105' y='32.072'/><use x='78.982' xlink:href='#gfull0-102' y='32.072'/><use x='85.347' xlink:href='#gfull0-110' y='32.072'/><use x='90.882' xlink:href='#gfull0-111' y='32.072'/><use x='99.184' xlink:href='#gfull0-112' y='32.072'/><use x='104.719' xlink:href='#gfull0-97' y='32.072'/><use x='109.7' xlink:href='#gfull0-103' y='32.072'/><use x='114.681' xlink:href='#gfull0-101' y='32.072'/><use x='36.364' xlink:href='#gfull0-116' y='44.027'/><use x='40.238' xlink:href='#gfull0-97' y='44.027'/><use x='45.219' xlink:href='#gfull0-98' y='44.027'/><use x='50.754' xlink:href='#gfull0-108' y='44.027'/><use x='53.522' xlink:href='#gfull0-101' y='44.027'/><use x='61.27' xlink:href='#gfull0-112' y='44.027'/><use x='66.805' xlink:href='#gfull0-114' y='44.027'/><use x='70.707' xlink:href='#gfull0-101' y='44.027'/><use x='75.135' xlink:href='#gfull0-115' y='44.027'/><use x='79.065' xlink:href='#gfull0-101' y='44.027'/><use x='83.493' xlink:href='#gfull0-110' y='44.027'/><use x='88.751' xlink:href='#gfull0-116' y='44.027'/><use x='95.946' xlink:href='#gfull0-102' y='44.027'/><use x='98.99' xlink:href='#gfull0-111' y='44.027'/><use x='103.971' xlink:href='#gfull0-114' y='44.027'/><use x='36.364' xlink:href='#gfull0-97' y='55.983'/><use x='41.345' xlink:href='#gfull0-108' y='55.983'/><use x='44.112' xlink:href='#gfull0-108' y='55.983'/><use x='46.88' xlink:href='#gfull0-111' y='55.983'/><use x='52.138' xlink:href='#gfull0-99' y='55.983'/><use x='56.566' xlink:href='#gfull0-97' y='55.983'/><use x='61.547' xlink:href='#gfull0-116' y='55.983'/><use x='65.421' xlink:href='#gfull0-101' y='55.983'/><use x='69.849' xlink:href='#gfull0-100' y='55.983'/><use x='78.705' xlink:href='#gfull0-97' y='55.983'/><use x='83.686' xlink:href='#gfull0-100' y='55.983'/><use x='89.221' xlink:href='#gfull0-100' y='55.983'/><use x='94.756' xlink:href='#gfull0-114' y='55.983'/><use x='98.658' xlink:href='#gfull0-101' y='55.983'/><use x='103.086' xlink:href='#gfull0-115' y='55.983'/><use x='107.016' xlink:href='#gfull0-115' y='55.983'/></g><g transform='matrix(1 0 0 1 214.503 183.312)'><use x='36.364' xlink:href='#gfull0-119' y='55.983'/><use x='43.559' xlink:href='#gfull0-105' y='55.983'/><use x='46.326' xlink:href='#gfull0-108' y='55.983'/><use x='49.094' xlink:href='#gfull0-108' y='55.983'/><use x='55.182' xlink:href='#gfull0-97' y='55.983'/><use x='60.163' xlink:href='#gfull0-108' y='55.983'/><use x='62.931' xlink:href='#gfull0-119' y='55.983'/><use x='69.849' xlink:href='#gfull0-97' y='55.983'/><use x='74.554' xlink:href='#gfull0-121' y='55.983'/><use x='79.812' xlink:href='#gfull0-115' y='55.983'/><use x='87.063' xlink:href='#gfull0-99' y='55.983'/><use x='91.49' xlink:href='#gfull0-97' y='55.983'/><use x='96.472' xlink:href='#gfull0-108' y='55.983'/><use x='99.239' xlink:href='#gfull0-108' y='55.983'/></g></g></svg></div></div>
<p class="p noindent">There are many ways to get around this problem but the approach I took was to have a <strong class="strong-star2">Page Table Reserved Area</strong>: a physical area of pages reserved for page tables. In my kernel I put this area between my kernel area and page frame allocator area:
</p>
<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code><span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> PAGE_TABLE_AREA_START 0x00500000</span>
<span style="color:navy">  #</span><span style="color:navy">define</span><span style="color:maroon"> PAGE_TABLE_AREA_END 0x00900000</span></code></pre>
<p class="p noindent para-continued">For the allocation of page tables I simply used a watermark allocator (no free) because of its simplicity. There is nothing stopping me from using a bitmap allocator or something more advanced, but I will reserve this until I feel like free is needed.
</p>
<p class="p indent">On a conceptual level, the only difference between the page table allocator and the page frame allocator is that the pages in the page table allocator are already identity mapped which is why I put it adjacent to the kernel (which is also identity mapped). The page table pages being pre-mapped resolves the circular dependency described above by ensuring that page tables are available on demand without the need to map them into memory. To reiterate, if we didn&#39;t pre-map these pages, allocating a page table might require allocation of a second page table to map the first table into memory — and the dependency continues infinitely. Below is an updated diagram of memory; but there exists two maps, a virtual map and a physical map. Notice that the page table allocator is located at the same place in both virtual and physical memory because it is identity mapped. Also, the virtual memory map doesn&#39;t even contain the page frame allocation area because the page frame allocator is a physical allocator, as discussed before.
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:32.7728em;width:32.9414em" viewBox='51.941 53.999 313.728 312.122' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,501); %set diagram left start at 0, and has height of 501

%Shape: Rectangle [id:dp5552694311533886] 
\draw   (91.03,117) -- (465.41,117) -- (465.41,212.57) -- (91.03,212.57) -- cycle ;
%Straight Lines [id:da984059016838253] 
\draw    (148.5,117) -- (148.5,232) ;


%Straight Lines [id:da15763882112951344] 
\draw    (190.5,99) -- (190.5,212) ;


%Straight Lines [id:da43137822370642986] 
\draw    (275.5,117) -- (275.5,230) ;


%Shape: Rectangle [id:dp9205285918686346] 
\draw   (90.03,343) -- (464.41,343) -- (464.41,438.57) -- (90.03,438.57) -- cycle ;
%Straight Lines [id:da9690394879366266] 
\draw    (147.5,343) -- (147.5,458) ;


%Straight Lines [id:da1550594810483421] 
\draw    (189.5,325) -- (189.5,438) ;



% Text Node
\draw (90.13,223.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (464.18,225.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (119.22,162.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (149.13,243.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (190.13,85.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (275.13,241.81) node [scale=0.7] [align=left] {0x0F000000};
% Text Node
\draw (234.22,163.78) node [scale=0.8] [align=left] {Page\\Frame\\Area};
% Text Node
\draw (89.13,449.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (463.18,451.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (118.22,388.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (148.13,469.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (189.13,311.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (275.13,60.81) node [scale=0.7] [align=left] {{\large Physical Memory Map}};
% Text Node
\draw (274.5,287) node [scale=0.7] [align=left] {{\large Virtual Memory Map}};
% Text Node
\draw (169.22,389.78) node [scale=0.8] [align=left] {{\small Page}\\{\small Table}\\{\small Area}};
% Text Node
\draw (170.22,163.78) node [scale=0.8] [align=left] {{\small Page}\\{\small Table}\\{\small Area}};


\end{tikzpicture}</desc><g id='math-44334d'><path d='M67.604 99.902H347.342V171.312H67.604Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M110.545 99.902V185.832' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M141.928 86.452V170.886' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M205.439 99.902V184.339' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M66.854 268.773H346.596V340.183H66.854Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M109.799 268.773V354.703' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M141.182 255.324V339.757' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 53.178 173.22)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-49' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 327.392 174.634)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-69' y='12.48'/><use x='28.089' xlink:href='#gfull2-69' y='12.48'/><use x='34.869' xlink:href='#gfull2-48' y='12.48'/><use x='39.85' xlink:href='#gfull2-48' y='12.48'/><use x='44.831' xlink:href='#gfull2-48' y='12.48'/><use x='49.813' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 77.477 126.89)'><use x='-0.416' xlink:href='#gfull2-75' y='12.48'/><use x='7.333' xlink:href='#gfull2-101' y='12.48'/><use x='11.761' xlink:href='#gfull2-114' y='12.48'/><use x='15.663' xlink:href='#gfull2-110' y='12.48'/><use x='21.198' xlink:href='#gfull2-101' y='12.48'/><use x='25.626' xlink:href='#gfull2-108' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 97.263 188.164)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 124.412 70.106)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-57' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/><use x='39.712' xlink:href='#gfull2-48' y='12.48'/><use x='44.693' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 187.392 186.806)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-48' y='12.48'/><use x='26.29' xlink:href='#gfull2-48' y='12.48'/><use x='31.271' xlink:href='#gfull2-48' y='12.48'/><use x='36.253' xlink:href='#gfull2-48' y='12.48'/><use x='41.234' xlink:href='#gfull2-48' y='12.48'/><use x='46.215' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 164.015 137.158)'><use x='-0.416' xlink:href='#gfull2-80' y='-11.431'/><use x='6.088' xlink:href='#gfull2-97' y='-11.431'/><use x='11.069' xlink:href='#gfull2-103' y='-11.431'/><use x='16.05' xlink:href='#gfull2-101' y='-11.431'/><use x='-0.416' xlink:href='#gfull2-70' y='0.524'/><use x='5.258' xlink:href='#gfull2-114' y='0.524'/><use x='9.16' xlink:href='#gfull2-97' y='0.524'/><use x='14.141' xlink:href='#gfull2-109' y='0.524'/><use x='22.443' xlink:href='#gfull2-101' y='0.524'/><use x='-0.416' xlink:href='#gfull2-65' y='12.48'/><use x='7.056' xlink:href='#gfull2-114' y='12.48'/><use x='10.958' xlink:href='#gfull2-101' y='12.48'/><use x='15.386' xlink:href='#gfull2-97' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 52.431 342.089)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-49' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 326.645 343.502)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-69' y='12.48'/><use x='28.089' xlink:href='#gfull2-69' y='12.48'/><use x='34.869' xlink:href='#gfull2-48' y='12.48'/><use x='39.85' xlink:href='#gfull2-48' y='12.48'/><use x='44.831' xlink:href='#gfull2-48' y='12.48'/><use x='49.813' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 76.73 295.759)'><use x='-0.416' xlink:href='#gfull2-75' y='12.48'/><use x='7.333' xlink:href='#gfull2-101' y='12.48'/><use x='11.761' xlink:href='#gfull2-114' y='12.48'/><use x='15.663' xlink:href='#gfull2-110' y='12.48'/><use x='21.198' xlink:href='#gfull2-101' y='12.48'/><use x='25.626' xlink:href='#gfull2-108' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 96.516 357.033)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 123.665 238.975)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-57' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/><use x='39.712' xlink:href='#gfull2-48' y='12.48'/><use x='44.693' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 164.978 51.271)'><use x='-0.416' xlink:href='#gfull1-80' y='12.48'/><use x='7.549' xlink:href='#gfull1-104' y='12.48'/><use x='13.727' xlink:href='#gfull1-121' y='12.48'/><use x='19.905' xlink:href='#gfull1-115' y='12.48'/><use x='24.523' xlink:href='#gfull1-105' y='12.48'/><use x='27.774' xlink:href='#gfull1-99' y='12.48'/><use x='32.977' xlink:href='#gfull1-97' y='12.48'/><use x='38.83' xlink:href='#gfull1-108' y='12.48'/><use x='45.983' xlink:href='#gfull1-77' y='12.48'/><use x='56.71' xlink:href='#gfull1-101' y='12.48'/><use x='61.912' xlink:href='#gfull1-109' y='12.48'/><use x='71.667' xlink:href='#gfull1-111' y='12.48'/><use x='77.52' xlink:href='#gfull1-114' y='12.48'/><use x='82.073' xlink:href='#gfull1-121' y='12.48'/><use x='92.153' xlink:href='#gfull1-77' y='12.48'/><use x='102.879' xlink:href='#gfull1-97' y='12.48'/><use x='108.732' xlink:href='#gfull1-112' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 166.522 220.281)'><use x='-0.416' xlink:href='#gfull1-86' y='12.48'/><use x='8.36' xlink:href='#gfull1-105' y='12.48'/><use x='11.611' xlink:href='#gfull1-114' y='12.48'/><use x='16.164' xlink:href='#gfull1-116' y='12.48'/><use x='20.716' xlink:href='#gfull1-117' y='12.48'/><use x='27.219' xlink:href='#gfull1-97' y='12.48'/><use x='33.072' xlink:href='#gfull1-108' y='12.48'/><use x='40.226' xlink:href='#gfull1-77' y='12.48'/><use x='50.952' xlink:href='#gfull1-101' y='12.48'/><use x='56.155' xlink:href='#gfull1-109' y='12.48'/><use x='65.91' xlink:href='#gfull1-111' y='12.48'/><use x='71.763' xlink:href='#gfull1-114' y='12.48'/><use x='76.315' xlink:href='#gfull1-121' y='12.48'/><use x='86.395' xlink:href='#gfull1-77' y='12.48'/><use x='97.122' xlink:href='#gfull1-97' y='12.48'/><use x='102.975' xlink:href='#gfull1-112' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 117.452 305.754)'><use x='-0.416' xlink:href='#gfull0-80-1' y='-11.431'/><use x='5.599' xlink:href='#gfull0-97-1' y='-11.431'/><use x='10.207' xlink:href='#gfull0-103-1' y='-11.431'/><use x='14.815' xlink:href='#gfull0-101-1' y='-11.431'/><use x='-0.416' xlink:href='#gfull0-84-1' y='0.524'/><use x='5.472' xlink:href='#gfull0-97-1' y='0.524'/><use x='10.08' xlink:href='#gfull0-98-1' y='0.524'/><use x='15.199' xlink:href='#gfull0-108-1' y='0.524'/><use x='17.759' xlink:href='#gfull0-101-1' y='0.524'/><use x='-0.416' xlink:href='#gfull0-65-1' y='12.48'/><use x='6.494' xlink:href='#gfull0-114-1' y='12.48'/><use x='10.099' xlink:href='#gfull0-101-1' y='12.48'/><use x='14.198' xlink:href='#gfull0-97-1' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 118.199 136.885)'><use x='-0.416' xlink:href='#gfull0-80-1' y='-11.431'/><use x='5.599' xlink:href='#gfull0-97-1' y='-11.431'/><use x='10.207' xlink:href='#gfull0-103-1' y='-11.431'/><use x='14.815' xlink:href='#gfull0-101-1' y='-11.431'/><use x='-0.416' xlink:href='#gfull0-84-1' y='0.524'/><use x='5.472' xlink:href='#gfull0-97-1' y='0.524'/><use x='10.08' xlink:href='#gfull0-98-1' y='0.524'/><use x='15.199' xlink:href='#gfull0-108-1' y='0.524'/><use x='17.759' xlink:href='#gfull0-101-1' y='0.524'/><use x='-0.416' xlink:href='#gfull0-65-1' y='12.48'/><use x='6.494' xlink:href='#gfull0-114-1' y='12.48'/><use x='10.099' xlink:href='#gfull0-101-1' y='12.48'/><use x='14.198' xlink:href='#gfull0-97-1' y='12.48'/></g></g></svg></div></div><h3 id="sec-heap-allocator" class="h2" data-heading-depth="2" style="display:block"><span class="heading-before"><span class="heading-label">5.1</span>.&#8194;</span>Heap Allocator</h3>
<p class="p noindent">Since I write parts of my kernel on a &#8220;on demand&#8221; basis, I had no heap allocator originally. In fact, I survived with just a page table and page frame allocator for about a full week. It wasn&#39;t until I tried to implement multitasking that I saw the need for a more granular heap allocator. I thought it was silly to allocate an entire page for one process control block. 
</p>
<p class="p indent">The heap allocator is what actually provides my <code class="code code1">kalloc</code> interface and performs tasks similar to a userspace <code class="code code1">malloc</code>. As of this writing, I am quite embarrassed to admit that my heap allocator cannot free memory and is basically a watermark allocator. It works by keeping a current pointer and incrementing it an exact amount for each allocation. If an allocation will go into unmapped memory, the page frame allocator is called to map another page to increase the addressable size of the heap. Like other allocators, there is a reserved heap region (in virtual memory):
</p>
<pre class="para-block pre-fenced pre-fenced3 language-cpp lang-cpp cpp colorized" style="display:block"><code><span style="color:navy">#</span><span style="color:navy">define</span><span style="color:maroon"> HEAP_ALLOCATOR_AREA_START 0x0F000000</span>
<span style="color:navy">#</span><span style="color:navy">define</span><span style="color:maroon"> HEAP_ALLOCATOR_AREA_END 0x11000000</span>

<span style="color:teal">void</span>* heap_allocate(size_t size) {
    logf(<span style="color:maroon">&quot;</span><span style="color:maroon">Heap allocation of size %x bytes at address %x</span><span style="color:gray">\n</span><span style="color:maroon">&quot;</span>, size, heap_current);
    <span style="color:darkgreen">// Check that the heap does not overflow</span>
    <span style="color:blue">if</span> (heap_current + size &gt; <span style="color:teal">HEAP_ALLOCATOR_AREA_END</span>) {
        panic(<span style="color:maroon">&quot;</span><span style="color:maroon">Heap is overflowing! Cannot allocate!</span><span style="color:maroon">&quot;</span>);
    }

    <span style="color:darkgreen">// Allocate new pages for the heap on demand</span>
    <span style="color:darkgreen">// When the current pointer passes the furthest mapped address</span>
    <span style="color:blue">while</span> (heap_current + size &gt; heap_mapped) {
        allocate_page_frame(heap_mapped);
        heap_mapped += <span style="color:teal">PAGE_SIZE</span>;
    }

    <span style="color:darkgreen">// Clear the memory before allocating</span>
    memset((<span style="color:teal">void</span>*) heap_current, <span class="constant" style="color:purple">0</span>, size);

    uint32_t ret = heap_current;
    heap_current += size;

    <span style="color:blue">return</span> (<span style="color:teal">void</span>*) ret;
}</code></pre>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:15.0409em;width:32.8629em" viewBox='105.734 54.006 312.98 143.247' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,501); %set diagram left start at 0, and has height of 501

%Shape: Rectangle [id:dp9205285918686346] 
\draw   (90.03,343) -- (464.41,343) -- (464.41,438.57) -- (90.03,438.57) -- cycle ;
%Straight Lines [id:da9690394879366266] 
\draw    (147.5,343) -- (147.5,458) ;


%Straight Lines [id:da1550594810483421] 
\draw    (189.5,325) -- (189.5,438) ;


%Straight Lines [id:da9837425562712037] 
\draw    (275.5,343) -- (275.5,456) ;


%Straight Lines [id:da9019170844577589] 
\draw    (375.5,343) -- (375.5,456) ;



% Text Node
\draw (89.13,449.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (463.18,451.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (118.22,388.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (148.13,469.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (189.13,311.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (274.5,287) node [scale=0.7] [align=left] {{\large Virtual Memory Map}};
% Text Node
\draw (169.22,389.78) node [scale=0.8] [align=left] {{\small Page}\\{\small Table}\\{\small Area}};
% Text Node
\draw (275.13,469.81) node [scale=0.7] [align=left] {0x0F000000};
% Text Node
\draw (375.13,467.81) node [scale=0.7] [align=left] {0x11000000};
% Text Node
\draw (326.22,389.78) node [scale=0.8] [align=left] {Heap\\Area};


\end{tikzpicture}</desc><g id='math-36decd'><path d='M120.652 99.764H400.395V171.174H120.652Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M163.598 99.764V185.694' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M194.981 86.315V170.748' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M259.238 99.764V184.198' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M333.961 99.764V184.198' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 68.565 291.391)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-49' y='-156.529'/><use x='68.603' xlink:href='#gfull2-48' y='-156.529'/><use x='73.585' xlink:href='#gfull2-48' y='-156.529'/><use x='78.566' xlink:href='#gfull2-48' y='-156.529'/><use x='83.547' xlink:href='#gfull2-48' y='-156.529'/><use x='88.529' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 342.779 292.805)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-51' y='-156.529'/><use x='68.603' xlink:href='#gfull2-70' y='-156.529'/><use x='75.107' xlink:href='#gfull2-69' y='-156.529'/><use x='81.887' xlink:href='#gfull2-69' y='-156.529'/><use x='88.667' xlink:href='#gfull2-48' y='-156.529'/><use x='93.648' xlink:href='#gfull2-48' y='-156.529'/><use x='98.63' xlink:href='#gfull2-48' y='-156.529'/><use x='103.611' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.8 0 0 0.8 87.484 261.962)'><use x='53.383' xlink:href='#gfull2-75' y='-156.529'/><use x='61.131' xlink:href='#gfull2-101' y='-156.529'/><use x='65.559' xlink:href='#gfull2-114' y='-156.529'/><use x='69.461' xlink:href='#gfull2-110' y='-156.529'/><use x='74.996' xlink:href='#gfull2-101' y='-156.529'/><use x='79.424' xlink:href='#gfull2-108' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 112.65 306.335)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-51' y='-156.529'/><use x='68.603' xlink:href='#gfull2-48' y='-156.529'/><use x='73.585' xlink:href='#gfull2-48' y='-156.529'/><use x='78.566' xlink:href='#gfull2-48' y='-156.529'/><use x='83.547' xlink:href='#gfull2-48' y='-156.529'/><use x='88.529' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 139.799 188.277)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-48' y='-156.529'/><use x='68.603' xlink:href='#gfull2-48' y='-156.529'/><use x='73.585' xlink:href='#gfull2-57' y='-156.529'/><use x='78.566' xlink:href='#gfull2-48' y='-156.529'/><use x='83.547' xlink:href='#gfull2-48' y='-156.529'/><use x='88.529' xlink:href='#gfull2-48' y='-156.529'/><use x='93.51' xlink:href='#gfull2-48' y='-156.529'/><use x='98.491' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 182.656 169.584)'><use x='53.383' xlink:href='#gfull1-86' y='-156.529'/><use x='62.158' xlink:href='#gfull1-105' y='-156.529'/><use x='65.41' xlink:href='#gfull1-114' y='-156.529'/><use x='69.962' xlink:href='#gfull1-116' y='-156.529'/><use x='74.514' xlink:href='#gfull1-117' y='-156.529'/><use x='81.018' xlink:href='#gfull1-97' y='-156.529'/><use x='86.871' xlink:href='#gfull1-108' y='-156.529'/><use x='94.024' xlink:href='#gfull1-77' y='-156.529'/><use x='104.751' xlink:href='#gfull1-101' y='-156.529'/><use x='109.953' xlink:href='#gfull1-109' y='-156.529'/><use x='119.708' xlink:href='#gfull1-111' y='-156.529'/><use x='125.561' xlink:href='#gfull1-114' y='-156.529'/><use x='130.114' xlink:href='#gfull1-121' y='-156.529'/><use x='140.194' xlink:href='#gfull1-77' y='-156.529'/><use x='150.92' xlink:href='#gfull1-97' y='-156.529'/><use x='156.773' xlink:href='#gfull1-112' y='-156.529'/></g><g transform='matrix(0.8 0 0 0.8 128.206 271.957)'><use x='53.383' xlink:href='#gfull0-80-1' y='-180.439'/><use x='59.397' xlink:href='#gfull0-97-1' y='-180.439'/><use x='64.005' xlink:href='#gfull0-103-1' y='-180.439'/><use x='68.613' xlink:href='#gfull0-101-1' y='-180.439'/><use x='53.383' xlink:href='#gfull0-84-1' y='-168.484'/><use x='59.27' xlink:href='#gfull0-97-1' y='-168.484'/><use x='63.878' xlink:href='#gfull0-98-1' y='-168.484'/><use x='68.998' xlink:href='#gfull0-108-1' y='-168.484'/><use x='71.557' xlink:href='#gfull0-101-1' y='-168.484'/><use x='53.383' xlink:href='#gfull0-65-1' y='-156.529'/><use x='60.293' xlink:href='#gfull0-114-1' y='-156.529'/><use x='63.897' xlink:href='#gfull0-101-1' y='-156.529'/><use x='67.996' xlink:href='#gfull0-97-1' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 203.526 306.471)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-48' y='-156.529'/><use x='68.603' xlink:href='#gfull2-70' y='-156.529'/><use x='75.107' xlink:href='#gfull2-48' y='-156.529'/><use x='80.088' xlink:href='#gfull2-48' y='-156.529'/><use x='85.069' xlink:href='#gfull2-48' y='-156.529'/><use x='90.051' xlink:href='#gfull2-48' y='-156.529'/><use x='95.032' xlink:href='#gfull2-48' y='-156.529'/><use x='100.013' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.7 0 0 0.7 278.779 304.841)'><use x='53.383' xlink:href='#gfull2-48' y='-156.529'/><use x='58.364' xlink:href='#gfull2-120' y='-156.529'/><use x='63.622' xlink:href='#gfull2-49' y='-156.529'/><use x='68.603' xlink:href='#gfull2-49' y='-156.529'/><use x='73.585' xlink:href='#gfull2-48' y='-156.529'/><use x='78.566' xlink:href='#gfull2-48' y='-156.529'/><use x='83.547' xlink:href='#gfull2-48' y='-156.529'/><use x='88.529' xlink:href='#gfull2-48' y='-156.529'/><use x='93.51' xlink:href='#gfull2-48' y='-156.529'/><use x='98.491' xlink:href='#gfull2-48' y='-156.529'/></g><g transform='matrix(0.8 0 0 0.8 245.46 267.448)'><use x='53.383' xlink:href='#gfull2-72' y='-168.484'/><use x='60.855' xlink:href='#gfull2-101' y='-168.484'/><use x='65.282' xlink:href='#gfull2-97' y='-168.484'/><use x='70.264' xlink:href='#gfull2-112' y='-168.484'/><use x='53.383' xlink:href='#gfull2-65' y='-156.529'/><use x='60.855' xlink:href='#gfull2-114' y='-156.529'/><use x='64.757' xlink:href='#gfull2-101' y='-156.529'/><use x='69.184' xlink:href='#gfull2-97' y='-156.529'/></g></g></svg></div></div>
<p class="p noindent">While the described type of exact match allocation results in extremely tight packing of memory, it also results in horrible internal fragmentation. But technically, internal fragmentation is only a problem if you free memory <code class="code code1">;)</code>.  In all seriousness, I probably will get around to fixing this once it becomes a problem, but for now, a watermark allocator works. But when I do change this, it won&#39;t be as simple as just adding a bitmap because the allocation requests are variable sized. I will need something like a free list to keep track of free segments and some type of coalescing to defragment allocated memory. This challenge is for another day.
</p><h2 id="sec-conclusion" class="h1" data-heading-depth="1" style="display:block"><span class="heading-before"><span class="heading-label">6</span>.&#8194;</span>Conclusion</h2>
<p class="p noindent">Writing a virtual memory manager was overall pretty challenging. I fell victim to the trap of over-analysis: trying to decide what was absolutely best before writing any code, afraid of the possibility that I would invest hours in a suboptimal approach. The allocation scheme that I came up with isn&#39;t elegant, and it might not even be good, but it is functional, and that is something to be proud of. I would also like to give thanks to my good friend Joe Qian for giving me a chance to vocalize my thoughts through intellectual discussion and helping me think through these problems over sushi <code class="code code1">:)</code>. Hopefully there will be a second revision of my memory manager but for now, I move on to other parts of the kernel. Below, I have included one last picture to summarize everything I have said so far by showing both the physical and virtual memory maps. The central task of a virtual memory manager is begin able to manage the differences between these two &#8220;maps&#8221;. The idea that these could be different, which was once so hard for me to grasp, now seems a bit simpler looking at these illustrations:
</p>
<p class="p indent"><br> 
</p>
<div class="center align-center" style="text-align:center">
<div class="snippet input-math" data-math-full="true" style="display:block"><svg  class="snippet math-display math-render-svg math" data-math-full="true" style="vertical-align:-0.0210em;height:32.7871em;width:32.9414em" viewBox='51.941 53.999 313.728 312.258' ><desc>\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,501); %set diagram left start at 0, and has height of 501

%Shape: Rectangle [id:dp5552694311533886] 
\draw   (91.03,117) -- (465.41,117) -- (465.41,212.57) -- (91.03,212.57) -- cycle ;
%Straight Lines [id:da984059016838253] 
\draw    (148.5,117) -- (148.5,232) ;


%Straight Lines [id:da15763882112951344] 
\draw    (190.5,99) -- (190.5,212) ;


%Straight Lines [id:da43137822370642986] 
\draw    (275.5,117) -- (275.5,230) ;


%Shape: Rectangle [id:dp9205285918686346] 
\draw   (90.03,343) -- (464.41,343) -- (464.41,438.57) -- (90.03,438.57) -- cycle ;
%Straight Lines [id:da9690394879366266] 
\draw    (147.5,343) -- (147.5,458) ;


%Straight Lines [id:da1550594810483421] 
\draw    (189.5,325) -- (189.5,438) ;


%Straight Lines [id:da9837425562712037] 
\draw    (275.5,343) -- (275.5,456) ;


%Straight Lines [id:da9019170844577589] 
\draw    (375.5,343) -- (375.5,456) ;



% Text Node
\draw (90.13,223.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (464.18,225.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (119.22,162.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (149.13,243.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (190.13,85.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (275.13,241.81) node [scale=0.7] [align=left] {0x0F000000};
% Text Node
\draw (234.22,163.78) node [scale=0.8] [align=left] {Page\\Frame\\Area};
% Text Node
\draw (89.13,449.81) node [scale=0.7] [align=left] {0x100000};
% Text Node
\draw (463.18,451.52) node [scale=0.7] [align=left] {0x3FEE0000};
% Text Node
\draw (118.22,388.78) node [scale=0.8] [align=left] {Kernel};
% Text Node
\draw (148.13,469.81) node [scale=0.7] [align=left] {0x300000};
% Text Node
\draw (189.13,311.81) node [scale=0.7] [align=left] {0x00900000};
% Text Node
\draw (275.13,60.81) node [scale=0.7] [align=left] {{\large Physical Memory Map}};
% Text Node
\draw (274.5,287) node [scale=0.7] [align=left] {{\large Virtual Memory Map}};
% Text Node
\draw (169.22,389.78) node [scale=0.8] [align=left] {{\small Page}\\{\small Table}\\{\small Area}};
% Text Node
\draw (275.13,469.81) node [scale=0.7] [align=left] {0x0F000000};
% Text Node
\draw (375.13,467.81) node [scale=0.7] [align=left] {0x11000000};
% Text Node
\draw (326.22,389.78) node [scale=0.8] [align=left] {Heap\\Area};
% Text Node
\draw (170.22,163.78) node [scale=0.8] [align=left] {{\small Page}\\{\small Table}\\{\small Area}};


\end{tikzpicture}</desc><g id='math-52f0a1'><path d='M67.604 99.902H347.342V171.312H67.604Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M110.545 99.902V185.832' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M141.928 86.452V170.886' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M205.439 99.902V184.339' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M66.854 268.773H346.596V340.183H66.854Z' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M109.799 268.773V354.703' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M141.182 255.324V339.757' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M205.439 268.773V353.207' fill='none' stroke='#000000' stroke-width='0.75'/><path d='M280.162 268.773V353.207' fill='none' stroke='#000000' stroke-width='0.75'/><g transform='matrix(0.7 0 0 0.7 53.178 173.22)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-49' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 327.392 174.634)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-69' y='12.48'/><use x='28.089' xlink:href='#gfull2-69' y='12.48'/><use x='34.869' xlink:href='#gfull2-48' y='12.48'/><use x='39.85' xlink:href='#gfull2-48' y='12.48'/><use x='44.831' xlink:href='#gfull2-48' y='12.48'/><use x='49.813' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 77.477 126.89)'><use x='-0.416' xlink:href='#gfull2-75' y='12.48'/><use x='7.333' xlink:href='#gfull2-101' y='12.48'/><use x='11.761' xlink:href='#gfull2-114' y='12.48'/><use x='15.663' xlink:href='#gfull2-110' y='12.48'/><use x='21.198' xlink:href='#gfull2-101' y='12.48'/><use x='25.626' xlink:href='#gfull2-108' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 97.263 188.164)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 124.412 70.106)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-57' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/><use x='39.712' xlink:href='#gfull2-48' y='12.48'/><use x='44.693' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 187.392 186.806)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-48' y='12.48'/><use x='26.29' xlink:href='#gfull2-48' y='12.48'/><use x='31.271' xlink:href='#gfull2-48' y='12.48'/><use x='36.253' xlink:href='#gfull2-48' y='12.48'/><use x='41.234' xlink:href='#gfull2-48' y='12.48'/><use x='46.215' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 164.015 137.158)'><use x='-0.416' xlink:href='#gfull2-80' y='-11.431'/><use x='6.088' xlink:href='#gfull2-97' y='-11.431'/><use x='11.069' xlink:href='#gfull2-103' y='-11.431'/><use x='16.05' xlink:href='#gfull2-101' y='-11.431'/><use x='-0.416' xlink:href='#gfull2-70' y='0.524'/><use x='5.258' xlink:href='#gfull2-114' y='0.524'/><use x='9.16' xlink:href='#gfull2-97' y='0.524'/><use x='14.141' xlink:href='#gfull2-109' y='0.524'/><use x='22.443' xlink:href='#gfull2-101' y='0.524'/><use x='-0.416' xlink:href='#gfull2-65' y='12.48'/><use x='7.056' xlink:href='#gfull2-114' y='12.48'/><use x='10.958' xlink:href='#gfull2-101' y='12.48'/><use x='15.386' xlink:href='#gfull2-97' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 52.431 342.089)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-49' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 326.645 343.502)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-69' y='12.48'/><use x='28.089' xlink:href='#gfull2-69' y='12.48'/><use x='34.869' xlink:href='#gfull2-48' y='12.48'/><use x='39.85' xlink:href='#gfull2-48' y='12.48'/><use x='44.831' xlink:href='#gfull2-48' y='12.48'/><use x='49.813' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 76.73 295.759)'><use x='-0.416' xlink:href='#gfull2-75' y='12.48'/><use x='7.333' xlink:href='#gfull2-101' y='12.48'/><use x='11.761' xlink:href='#gfull2-114' y='12.48'/><use x='15.663' xlink:href='#gfull2-110' y='12.48'/><use x='21.198' xlink:href='#gfull2-101' y='12.48'/><use x='25.626' xlink:href='#gfull2-108' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 96.516 357.033)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-51' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 123.665 238.975)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-48' y='12.48'/><use x='19.786' xlink:href='#gfull2-57' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/><use x='39.712' xlink:href='#gfull2-48' y='12.48'/><use x='44.693' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 164.978 51.271)'><use x='-0.416' xlink:href='#gfull1-80' y='12.48'/><use x='7.549' xlink:href='#gfull1-104' y='12.48'/><use x='13.727' xlink:href='#gfull1-121' y='12.48'/><use x='19.905' xlink:href='#gfull1-115' y='12.48'/><use x='24.523' xlink:href='#gfull1-105' y='12.48'/><use x='27.774' xlink:href='#gfull1-99' y='12.48'/><use x='32.977' xlink:href='#gfull1-97' y='12.48'/><use x='38.83' xlink:href='#gfull1-108' y='12.48'/><use x='45.983' xlink:href='#gfull1-77' y='12.48'/><use x='56.71' xlink:href='#gfull1-101' y='12.48'/><use x='61.912' xlink:href='#gfull1-109' y='12.48'/><use x='71.667' xlink:href='#gfull1-111' y='12.48'/><use x='77.52' xlink:href='#gfull1-114' y='12.48'/><use x='82.073' xlink:href='#gfull1-121' y='12.48'/><use x='92.153' xlink:href='#gfull1-77' y='12.48'/><use x='102.879' xlink:href='#gfull1-97' y='12.48'/><use x='108.732' xlink:href='#gfull1-112' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 166.522 220.281)'><use x='-0.416' xlink:href='#gfull1-86' y='12.48'/><use x='8.36' xlink:href='#gfull1-105' y='12.48'/><use x='11.611' xlink:href='#gfull1-114' y='12.48'/><use x='16.164' xlink:href='#gfull1-116' y='12.48'/><use x='20.716' xlink:href='#gfull1-117' y='12.48'/><use x='27.219' xlink:href='#gfull1-97' y='12.48'/><use x='33.072' xlink:href='#gfull1-108' y='12.48'/><use x='40.226' xlink:href='#gfull1-77' y='12.48'/><use x='50.952' xlink:href='#gfull1-101' y='12.48'/><use x='56.155' xlink:href='#gfull1-109' y='12.48'/><use x='65.91' xlink:href='#gfull1-111' y='12.48'/><use x='71.763' xlink:href='#gfull1-114' y='12.48'/><use x='76.315' xlink:href='#gfull1-121' y='12.48'/><use x='86.395' xlink:href='#gfull1-77' y='12.48'/><use x='97.122' xlink:href='#gfull1-97' y='12.48'/><use x='102.975' xlink:href='#gfull1-112' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 117.452 305.754)'><use x='-0.416' xlink:href='#gfull0-80-1' y='-11.431'/><use x='5.599' xlink:href='#gfull0-97-1' y='-11.431'/><use x='10.207' xlink:href='#gfull0-103-1' y='-11.431'/><use x='14.815' xlink:href='#gfull0-101-1' y='-11.431'/><use x='-0.416' xlink:href='#gfull0-84-1' y='0.524'/><use x='5.472' xlink:href='#gfull0-97-1' y='0.524'/><use x='10.08' xlink:href='#gfull0-98-1' y='0.524'/><use x='15.199' xlink:href='#gfull0-108-1' y='0.524'/><use x='17.759' xlink:href='#gfull0-101-1' y='0.524'/><use x='-0.416' xlink:href='#gfull0-65-1' y='12.48'/><use x='6.494' xlink:href='#gfull0-114-1' y='12.48'/><use x='10.099' xlink:href='#gfull0-101-1' y='12.48'/><use x='14.198' xlink:href='#gfull0-97-1' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 187.392 357.169)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-48' y='12.48'/><use x='14.805' xlink:href='#gfull2-70' y='12.48'/><use x='21.309' xlink:href='#gfull2-48' y='12.48'/><use x='26.29' xlink:href='#gfull2-48' y='12.48'/><use x='31.271' xlink:href='#gfull2-48' y='12.48'/><use x='36.253' xlink:href='#gfull2-48' y='12.48'/><use x='41.234' xlink:href='#gfull2-48' y='12.48'/><use x='46.215' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.7 0 0 0.7 262.645 355.539)'><use x='-0.416' xlink:href='#gfull2-48' y='12.48'/><use x='4.566' xlink:href='#gfull2-120' y='12.48'/><use x='9.824' xlink:href='#gfull2-49' y='12.48'/><use x='14.805' xlink:href='#gfull2-49' y='12.48'/><use x='19.786' xlink:href='#gfull2-48' y='12.48'/><use x='24.768' xlink:href='#gfull2-48' y='12.48'/><use x='29.749' xlink:href='#gfull2-48' y='12.48'/><use x='34.73' xlink:href='#gfull2-48' y='12.48'/><use x='39.712' xlink:href='#gfull2-48' y='12.48'/><use x='44.693' xlink:href='#gfull2-48' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 234.706 301.244)'><use x='-0.416' xlink:href='#gfull2-72' y='0.524'/><use x='7.056' xlink:href='#gfull2-101' y='0.524'/><use x='11.484' xlink:href='#gfull2-97' y='0.524'/><use x='16.466' xlink:href='#gfull2-112' y='0.524'/><use x='-0.416' xlink:href='#gfull2-65' y='12.48'/><use x='7.056' xlink:href='#gfull2-114' y='12.48'/><use x='10.958' xlink:href='#gfull2-101' y='12.48'/><use x='15.386' xlink:href='#gfull2-97' y='12.48'/></g><g transform='matrix(0.8 0 0 0.8 118.199 136.885)'><use x='-0.416' xlink:href='#gfull0-80-1' y='-11.431'/><use x='5.599' xlink:href='#gfull0-97-1' y='-11.431'/><use x='10.207' xlink:href='#gfull0-103-1' y='-11.431'/><use x='14.815' xlink:href='#gfull0-101-1' y='-11.431'/><use x='-0.416' xlink:href='#gfull0-84-1' y='0.524'/><use x='5.472' xlink:href='#gfull0-97-1' y='0.524'/><use x='10.08' xlink:href='#gfull0-98-1' y='0.524'/><use x='15.199' xlink:href='#gfull0-108-1' y='0.524'/><use x='17.759' xlink:href='#gfull0-101-1' y='0.524'/><use x='-0.416' xlink:href='#gfull0-65-1' y='12.48'/><use x='6.494' xlink:href='#gfull0-114-1' y='12.48'/><use x='10.099' xlink:href='#gfull0-101-1' y='12.48'/><use x='14.198' xlink:href='#gfull0-97-1' y='12.48'/></g></g></svg></div></div>
<p class="p noindent"><br>
<br>
</p><span data-line=""></span></div>
<svg id='math-svg-paths' style='display:none' version='1.1' viewBox='0 0 0 0' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
<defs>
<path d='M4.583 -3.188C4.583 -3.985 4.533 -4.782 4.184 -5.519C3.726 -6.476 2.909 -6.635 2.491 -6.635C1.893 -6.635 1.166 -6.376 0.757 -5.45C0.438 -4.762 0.389 -3.985 0.389 -3.188C0.389 -2.441 0.428 -1.544 0.837 -0.787C1.265 0.02 1.993 0.219 2.481 0.219C3.019 0.219 3.776 0.01 4.214 -0.936C4.533 -1.624 4.583 -2.401 4.583 -3.188ZM2.481 0C2.092 0 1.504 -0.249 1.325 -1.205C1.215 -1.803 1.215 -2.72 1.215 -3.308C1.215 -3.945 1.215 -4.603 1.295 -5.141C1.484 -6.326 2.232 -6.416 2.481 -6.416C2.809 -6.416 3.467 -6.237 3.656 -5.25C3.756 -4.692 3.756 -3.935 3.756 -3.308C3.756 -2.56 3.756 -1.883 3.646 -1.245C3.497 -0.299 2.929 0 2.481 0Z' id='g1-48'/>
<path d='M3.328 -3.009C3.387 -3.268 3.616 -4.184 4.314 -4.184C4.364 -4.184 4.603 -4.184 4.812 -4.055C4.533 -4.005 4.334 -3.756 4.334 -3.517C4.334 -3.357 4.443 -3.168 4.712 -3.168C4.932 -3.168 5.25 -3.347 5.25 -3.746C5.25 -4.264 4.663 -4.403 4.324 -4.403C3.746 -4.403 3.397 -3.875 3.278 -3.646C3.029 -4.304 2.491 -4.403 2.202 -4.403C1.166 -4.403 0.598 -3.118 0.598 -2.869C0.598 -2.77 0.697 -2.77 0.717 -2.77C0.797 -2.77 0.827 -2.79 0.847 -2.879C1.186 -3.935 1.843 -4.184 2.182 -4.184C2.371 -4.184 2.72 -4.095 2.72 -3.517C2.72 -3.208 2.55 -2.54 2.182 -1.146C2.022 -0.528 1.674 -0.11 1.235 -0.11C1.176 -0.11 0.946 -0.11 0.737 -0.239C0.986 -0.289 1.205 -0.498 1.205 -0.777C1.205 -1.046 0.986 -1.126 0.837 -1.126C0.538 -1.126 0.289 -0.867 0.289 -0.548C0.289 -0.09 0.787 0.11 1.225 0.11C1.883 0.11 2.242 -0.588 2.271 -0.648C2.391 -0.279 2.75 0.11 3.347 0.11C4.374 0.11 4.941 -1.176 4.941 -1.425C4.941 -1.524 4.852 -1.524 4.822 -1.524C4.732 -1.524 4.712 -1.484 4.692 -1.415C4.364 -0.349 3.686 -0.11 3.367 -0.11C2.979 -0.11 2.819 -0.428 2.819 -0.767C2.819 -0.986 2.879 -1.205 2.989 -1.644L3.328 -3.009Z' id='g0-120'/>
<path d='M4.583 -3.188C4.583 -3.985 4.533 -4.782 4.184 -5.519C3.726 -6.476 2.909 -6.635 2.491 -6.635C1.893 -6.635 1.166 -6.376 0.757 -5.45C0.438 -4.762 0.389 -3.985 0.389 -3.188C0.389 -2.441 0.428 -1.544 0.837 -0.787C1.265 0.02 1.993 0.219 2.481 0.219C3.019 0.219 3.776 0.01 4.214 -0.936C4.533 -1.624 4.583 -2.401 4.583 -3.188ZM2.481 0C2.092 0 1.504 -0.249 1.325 -1.205C1.215 -1.803 1.215 -2.72 1.215 -3.308C1.215 -3.945 1.215 -4.603 1.295 -5.141C1.484 -6.326 2.232 -6.416 2.481 -6.416C2.809 -6.416 3.467 -6.237 3.656 -5.25C3.756 -4.692 3.756 -3.935 3.756 -3.308C3.756 -2.56 3.756 -1.883 3.646 -1.245C3.497 -0.299 2.929 0 2.481 0Z' id='gfull0-48'/>
<path d='M2.929 -6.376C2.929 -6.615 2.929 -6.635 2.7 -6.635C2.082 -5.998 1.205 -5.998 0.887 -5.998V-5.689C1.086 -5.689 1.674 -5.689 2.192 -5.948V-0.787C2.192 -0.428 2.162 -0.309 1.265 -0.309H0.946V0C1.295 -0.03 2.162 -0.03 2.56 -0.03S3.826 -0.03 4.174 0V-0.309H3.856C2.959 -0.309 2.929 -0.418 2.929 -0.787V-6.376Z' id='gfull0-49'/>
<path d='M2.889 -3.507C3.706 -3.776 4.284 -4.473 4.284 -5.26C4.284 -6.077 3.407 -6.635 2.451 -6.635C1.445 -6.635 0.687 -6.037 0.687 -5.28C0.687 -4.951 0.907 -4.762 1.196 -4.762C1.504 -4.762 1.704 -4.981 1.704 -5.27C1.704 -5.768 1.235 -5.768 1.086 -5.768C1.395 -6.257 2.052 -6.386 2.411 -6.386C2.819 -6.386 3.367 -6.167 3.367 -5.27C3.367 -5.151 3.347 -4.573 3.088 -4.134C2.79 -3.656 2.451 -3.626 2.202 -3.616C2.122 -3.606 1.883 -3.587 1.813 -3.587C1.733 -3.577 1.664 -3.567 1.664 -3.467C1.664 -3.357 1.733 -3.357 1.903 -3.357H2.341C3.158 -3.357 3.527 -2.68 3.527 -1.704C3.527 -0.349 2.839 -0.06 2.401 -0.06C1.973 -0.06 1.225 -0.229 0.877 -0.817C1.225 -0.767 1.534 -0.986 1.534 -1.365C1.534 -1.724 1.265 -1.923 0.976 -1.923C0.737 -1.923 0.418 -1.783 0.418 -1.345C0.418 -0.438 1.345 0.219 2.431 0.219C3.646 0.219 4.553 -0.687 4.553 -1.704C4.553 -2.521 3.925 -3.298 2.889 -3.507Z' id='gfull0-51'/>
<path d='M1.355 -0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0H6.077L6.496 -2.57H6.247C5.998 -1.036 5.768 -0.309 4.055 -0.309H2.73C2.262 -0.309 2.242 -0.379 2.242 -0.707V-3.367H3.138C4.105 -3.367 4.214 -3.049 4.214 -2.202H4.463V-4.842H4.214C4.214 -3.985 4.105 -3.676 3.138 -3.676H2.242V-6.067C2.242 -6.396 2.262 -6.466 2.73 -6.466H4.015C5.539 -6.466 5.808 -5.918 5.968 -4.533H6.217L5.938 -6.775H0.329V-6.466H0.568C1.335 -6.466 1.355 -6.356 1.355 -5.998V-0.777Z' id='gfull0-69'/>
<path d='M5.798 -6.775H0.329V-6.466H0.568C1.335 -6.466 1.355 -6.356 1.355 -5.998V-0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0C0.677 -0.03 1.455 -0.03 1.843 -0.03C2.252 -0.03 3.158 -0.03 3.517 0V-0.309H3.188C2.242 -0.309 2.242 -0.438 2.242 -0.787V-3.238H3.098C4.055 -3.238 4.154 -2.919 4.154 -2.072H4.403V-4.712H4.154C4.154 -3.875 4.055 -3.547 3.098 -3.547H2.242V-6.067C2.242 -6.396 2.262 -6.466 2.73 -6.466H3.925C5.42 -6.466 5.669 -5.908 5.828 -4.533H6.077L5.798 -6.775Z' id='gfull0-70'/>
<path d='M3.477 -3.866L2.202 -4.174C1.584 -4.324 1.196 -4.862 1.196 -5.44C1.196 -6.137 1.733 -6.745 2.511 -6.745C4.174 -6.745 4.394 -5.111 4.453 -4.663C4.463 -4.603 4.463 -4.543 4.573 -4.543C4.702 -4.543 4.702 -4.593 4.702 -4.782V-6.785C4.702 -6.954 4.702 -7.024 4.593 -7.024C4.523 -7.024 4.513 -7.014 4.443 -6.894L4.095 -6.326C3.796 -6.615 3.387 -7.024 2.501 -7.024C1.395 -7.024 0.558 -6.147 0.558 -5.091C0.558 -4.264 1.086 -3.537 1.863 -3.268C1.973 -3.228 2.481 -3.108 3.178 -2.939C3.447 -2.869 3.746 -2.8 4.025 -2.431C4.234 -2.172 4.334 -1.843 4.334 -1.514C4.334 -0.807 3.836 -0.09 2.999 -0.09C2.71 -0.09 1.953 -0.139 1.425 -0.628C0.847 -1.166 0.817 -1.803 0.807 -2.162C0.797 -2.262 0.717 -2.262 0.687 -2.262C0.558 -2.262 0.558 -2.192 0.558 -2.012V-0.02C0.558 0.149 0.558 0.219 0.667 0.219C0.737 0.219 0.747 0.199 0.817 0.09C0.817 0.08 0.847 0.05 1.176 -0.478C1.484 -0.139 2.122 0.219 3.009 0.219C4.174 0.219 4.971 -0.757 4.971 -1.853C4.971 -2.849 4.314 -3.666 3.477 -3.866Z' id='gfull0-83'/>
<path d='M3.318 -0.757C3.357 -0.359 3.626 0.06 4.095 0.06C4.304 0.06 4.912 -0.08 4.912 -0.887V-1.445H4.663V-0.887C4.663 -0.309 4.413 -0.249 4.304 -0.249C3.975 -0.249 3.935 -0.697 3.935 -0.747V-2.74C3.935 -3.158 3.935 -3.547 3.577 -3.915C3.188 -4.304 2.69 -4.463 2.212 -4.463C1.395 -4.463 0.707 -3.995 0.707 -3.337C0.707 -3.039 0.907 -2.869 1.166 -2.869C1.445 -2.869 1.624 -3.068 1.624 -3.328C1.624 -3.447 1.574 -3.776 1.116 -3.786C1.385 -4.134 1.873 -4.244 2.192 -4.244C2.68 -4.244 3.248 -3.856 3.248 -2.969V-2.6C2.74 -2.57 2.042 -2.54 1.415 -2.242C0.667 -1.903 0.418 -1.385 0.418 -0.946C0.418 -0.139 1.385 0.11 2.012 0.11C2.67 0.11 3.128 -0.289 3.318 -0.757ZM3.248 -2.391V-1.395C3.248 -0.448 2.531 -0.11 2.082 -0.11C1.594 -0.11 1.186 -0.458 1.186 -0.956C1.186 -1.504 1.604 -2.331 3.248 -2.391Z' id='gfull0-97'/>
<path d='M3.067 -0.646C3.111 -0.269 3.371 0.054 3.757 0.054C3.981 0.054 4.546 -0.081 4.546 -0.798V-1.3H4.295V-0.807C4.295 -0.708 4.295 -0.26 3.972 -0.26S3.649 -0.69 3.649 -0.834V-2.403C3.649 -2.914 3.649 -3.219 3.246 -3.587C2.914 -3.882 2.484 -4.017 2.035 -4.017C1.282 -4.017 0.655 -3.64 0.655 -3.067C0.655 -2.789 0.843 -2.636 1.076 -2.636C1.318 -2.636 1.488 -2.815 1.488 -3.049C1.488 -3.434 1.094 -3.479 1.085 -3.479C1.327 -3.712 1.757 -3.793 2.017 -3.793C2.475 -3.793 2.986 -3.452 2.986 -2.663V-2.367C2.502 -2.349 1.829 -2.304 1.228 -2.017C0.583 -1.704 0.386 -1.237 0.386 -0.879C0.386 -0.143 1.255 0.099 1.856 0.099C2.6 0.099 2.941 -0.395 3.067 -0.646ZM2.986 -1.264C2.986 -0.395 2.313 -0.126 1.919 -0.126C1.497 -0.126 1.103 -0.43 1.103 -0.879C1.103 -1.47 1.614 -2.098 2.986 -2.152V-1.264Z' id='gfull0-97-1'/>
<path d='M1.166 -2.172C1.166 -3.796 1.983 -4.214 2.511 -4.214C2.6 -4.214 3.228 -4.204 3.577 -3.846C3.168 -3.816 3.108 -3.517 3.108 -3.387C3.108 -3.128 3.288 -2.929 3.567 -2.929C3.826 -2.929 4.025 -3.098 4.025 -3.397C4.025 -4.075 3.268 -4.463 2.501 -4.463C1.255 -4.463 0.339 -3.387 0.339 -2.152C0.339 -0.877 1.325 0.11 2.481 0.11C3.816 0.11 4.134 -1.086 4.134 -1.186S4.035 -1.285 4.005 -1.285C3.915 -1.285 3.895 -1.245 3.875 -1.186C3.587 -0.259 2.939 -0.139 2.57 -0.139C2.042 -0.139 1.166 -0.568 1.166 -2.172Z' id='gfull0-99'/>
<path d='M1.116 -2.511C1.176 -3.995 2.012 -4.244 2.351 -4.244C3.377 -4.244 3.477 -2.899 3.477 -2.511H1.116ZM1.106 -2.301H3.885C4.105 -2.301 4.134 -2.301 4.134 -2.511C4.134 -3.497 3.597 -4.463 2.351 -4.463C1.196 -4.463 0.279 -3.437 0.279 -2.192C0.279 -0.857 1.325 0.11 2.471 0.11C3.686 0.11 4.134 -0.996 4.134 -1.186C4.134 -1.285 4.055 -1.305 4.005 -1.305C3.915 -1.305 3.895 -1.245 3.875 -1.166C3.527 -0.139 2.63 -0.139 2.531 -0.139C2.032 -0.139 1.634 -0.438 1.405 -0.807C1.106 -1.285 1.106 -1.943 1.106 -2.301Z' id='gfull0-101'/>
<path d='M3.587 -2.053C3.784 -2.053 3.829 -2.053 3.829 -2.242C3.829 -3.165 3.327 -4.017 2.179 -4.017C1.103 -4.017 0.26 -3.084 0.26 -1.973C0.26 -0.798 1.201 0.099 2.295 0.099S3.829 -0.861 3.829 -1.067C3.829 -1.13 3.784 -1.184 3.703 -1.184C3.613 -1.184 3.587 -1.121 3.578 -1.085C3.273 -0.17 2.475 -0.152 2.34 -0.152C1.91 -0.152 1.542 -0.395 1.336 -0.699C1.04 -1.139 1.031 -1.677 1.031 -2.053H3.587ZM1.04 -2.268C1.121 -3.649 1.928 -3.793 2.179 -3.793C2.672 -3.793 3.21 -3.416 3.219 -2.268H1.04Z' id='gfull0-101-1'/>
<path d='M1.096 -3.427V-0.757C1.096 -0.309 0.986 -0.309 0.319 -0.309V0C0.667 -0.01 1.176 -0.03 1.445 -0.03C1.704 -0.03 2.222 -0.01 2.56 0V-0.309C1.893 -0.309 1.783 -0.309 1.783 -0.757V-2.59C1.783 -3.626 2.491 -4.184 3.128 -4.184C3.756 -4.184 3.866 -3.646 3.866 -3.078V-0.757C3.866 -0.309 3.756 -0.309 3.088 -0.309V0C3.437 -0.01 3.945 -0.03 4.214 -0.03C4.473 -0.03 4.991 -0.01 5.33 0V-0.309C4.663 -0.309 4.553 -0.309 4.553 -0.757V-2.59C4.553 -3.626 5.26 -4.184 5.898 -4.184C6.526 -4.184 6.635 -3.646 6.635 -3.078V-0.757C6.635 -0.309 6.526 -0.309 5.858 -0.309V0C6.207 -0.01 6.715 -0.03 6.984 -0.03C7.243 -0.03 7.761 -0.01 8.1 0V-0.309C7.582 -0.309 7.333 -0.309 7.323 -0.608V-2.511C7.323 -3.367 7.323 -3.676 7.014 -4.035C6.874 -4.204 6.545 -4.403 5.968 -4.403C5.131 -4.403 4.692 -3.806 4.523 -3.427C4.384 -4.294 3.646 -4.403 3.198 -4.403C2.471 -4.403 2.002 -3.975 1.724 -3.357V-4.403L0.319 -4.294V-3.985C1.016 -3.985 1.096 -3.915 1.096 -3.427Z' id='gfull0-109'/>
<path d='M1.714 -3.746V-4.403L0.279 -4.294V-3.985C0.986 -3.985 1.056 -3.925 1.056 -3.487V1.176C1.056 1.624 0.946 1.624 0.279 1.624V1.933C0.618 1.923 1.136 1.903 1.395 1.903C1.664 1.903 2.172 1.923 2.521 1.933V1.624C1.853 1.624 1.743 1.624 1.743 1.176V-0.498V-0.588C1.793 -0.428 2.212 0.11 2.969 0.11C4.154 0.11 5.191 -0.867 5.191 -2.152C5.191 -3.417 4.224 -4.403 3.108 -4.403C2.331 -4.403 1.913 -3.965 1.714 -3.746ZM1.743 -1.136V-3.357C2.032 -3.866 2.521 -4.154 3.029 -4.154C3.756 -4.154 4.364 -3.278 4.364 -2.152C4.364 -0.946 3.666 -0.11 2.929 -0.11C2.531 -0.11 2.152 -0.309 1.883 -0.717C1.743 -0.927 1.743 -0.936 1.743 -1.136Z' id='gfull0-112'/>
<path d='M1.724 -3.985H3.148V-4.294H1.724V-6.127H1.474C1.465 -5.31 1.166 -4.244 0.189 -4.204V-3.985H1.036V-1.235C1.036 -0.01 1.963 0.11 2.321 0.11C3.029 0.11 3.308 -0.598 3.308 -1.235V-1.803H3.059V-1.255C3.059 -0.518 2.76 -0.139 2.391 -0.139C1.724 -0.139 1.724 -1.046 1.724 -1.215V-3.985Z' id='gfull0-116'/>
<path d='M2.859 -2.341C3.158 -2.72 3.537 -3.208 3.776 -3.467C4.085 -3.826 4.493 -3.975 4.961 -3.985V-4.294C4.702 -4.274 4.403 -4.264 4.144 -4.264C3.846 -4.264 3.318 -4.284 3.188 -4.294V-3.985C3.397 -3.965 3.477 -3.836 3.477 -3.676S3.377 -3.387 3.328 -3.328L2.71 -2.55L1.933 -3.557C1.843 -3.656 1.843 -3.676 1.843 -3.736C1.843 -3.885 1.993 -3.975 2.192 -3.985V-4.294C1.933 -4.284 1.275 -4.264 1.116 -4.264C0.907 -4.264 0.438 -4.274 0.169 -4.294V-3.985C0.867 -3.985 0.877 -3.975 1.345 -3.377L2.331 -2.092L1.395 -0.907C0.917 -0.329 0.329 -0.309 0.12 -0.309V0C0.379 -0.02 0.687 -0.03 0.946 -0.03C1.235 -0.03 1.654 -0.01 1.893 0V-0.309C1.674 -0.339 1.604 -0.468 1.604 -0.618C1.604 -0.837 1.893 -1.166 2.501 -1.883L3.258 -0.887C3.337 -0.777 3.467 -0.618 3.467 -0.558C3.467 -0.468 3.377 -0.319 3.108 -0.309V0C3.407 -0.01 3.965 -0.03 4.184 -0.03C4.453 -0.03 4.842 -0.02 5.141 0V-0.309C4.603 -0.309 4.423 -0.329 4.194 -0.618L2.859 -2.341Z' id='gfull0-120'/>
<path d='M4.134 -3.347C4.394 -3.975 4.902 -3.985 5.061 -3.985V-4.294C4.832 -4.274 4.543 -4.264 4.314 -4.264C4.134 -4.264 3.666 -4.284 3.447 -4.294V-3.985C3.756 -3.975 3.915 -3.806 3.915 -3.557C3.915 -3.457 3.905 -3.437 3.856 -3.318L2.849 -0.867L1.743 -3.547C1.704 -3.646 1.684 -3.686 1.684 -3.726C1.684 -3.985 2.052 -3.985 2.242 -3.985V-4.294C1.983 -4.284 1.325 -4.264 1.156 -4.264C0.887 -4.264 0.488 -4.274 0.189 -4.294V-3.985C0.667 -3.985 0.857 -3.985 0.996 -3.636L2.491 0C2.441 0.13 2.301 0.458 2.242 0.588C2.022 1.136 1.743 1.823 1.106 1.823C1.056 1.823 0.827 1.823 0.638 1.644C0.946 1.604 1.026 1.385 1.026 1.225C1.026 0.966 0.837 0.807 0.608 0.807C0.408 0.807 0.189 0.936 0.189 1.235C0.189 1.684 0.608 2.042 1.106 2.042C1.733 2.042 2.142 1.474 2.381 0.907L4.134 -3.347Z' id='gfull0-121'/>
<path d='M3.985 -4.174L5.778 -5.898C5.858 -5.978 6.386 -6.486 7.193 -6.496V-6.804C6.934 -6.775 6.615 -6.775 6.346 -6.775C5.988 -6.775 5.42 -6.775 5.081 -6.804V-6.496C5.479 -6.486 5.539 -6.257 5.539 -6.167C5.539 -6.007 5.44 -5.908 5.36 -5.838L2.242 -2.859V-6.027C2.242 -6.386 2.262 -6.496 3.029 -6.496H3.268V-6.804C2.919 -6.775 2.182 -6.775 1.803 -6.775S0.677 -6.775 0.329 -6.804V-6.496H0.568C1.335 -6.496 1.355 -6.386 1.355 -6.027V-0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0C0.677 -0.03 1.415 -0.03 1.793 -0.03S2.919 -0.03 3.268 0V-0.309H3.029C2.262 -0.309 2.242 -0.418 2.242 -0.777V-2.521L3.397 -3.616L5.2 -0.946C5.26 -0.857 5.35 -0.727 5.35 -0.608C5.35 -0.309 4.961 -0.309 4.762 -0.309V0C5.111 -0.03 5.808 -0.03 6.187 -0.03C6.535 -0.03 6.914 -0.02 7.333 0V-0.309C6.795 -0.309 6.585 -0.349 6.286 -0.787L3.985 -4.174Z' id='gfull0-75'/>
<path d='M1.763 -6.914L0.329 -6.804V-6.496C1.026 -6.496 1.106 -6.426 1.106 -5.938V-0.757C1.106 -0.309 0.996 -0.309 0.329 -0.309V0C0.658 -0.01 1.186 -0.03 1.435 -0.03S2.172 -0.01 2.54 0V-0.309C1.873 -0.309 1.763 -0.309 1.763 -0.757V-6.914Z' id='gfull0-108'/>
<path d='M1.65 -6.223L0.323 -6.124V-5.846C0.933 -5.846 1.013 -5.783 1.013 -5.344V-0.69C1.013 -0.278 0.915 -0.278 0.323 -0.278V0C0.744 -0.018 0.915 -0.027 1.327 -0.027C1.748 -0.027 1.901 -0.018 2.34 0V-0.278C1.748 -0.278 1.65 -0.278 1.65 -0.69V-6.223Z' id='gfull0-108-1'/>
<path d='M1.096 -3.427V-0.757C1.096 -0.309 0.986 -0.309 0.319 -0.309V0C0.667 -0.01 1.176 -0.03 1.445 -0.03C1.704 -0.03 2.222 -0.01 2.56 0V-0.309C1.893 -0.309 1.783 -0.309 1.783 -0.757V-2.59C1.783 -3.626 2.491 -4.184 3.128 -4.184C3.756 -4.184 3.866 -3.646 3.866 -3.078V-0.757C3.866 -0.309 3.756 -0.309 3.088 -0.309V0C3.437 -0.01 3.945 -0.03 4.214 -0.03C4.473 -0.03 4.991 -0.01 5.33 0V-0.309C4.812 -0.309 4.563 -0.309 4.553 -0.608V-2.511C4.553 -3.367 4.553 -3.676 4.244 -4.035C4.105 -4.204 3.776 -4.403 3.198 -4.403C2.471 -4.403 2.002 -3.975 1.724 -3.357V-4.403L0.319 -4.294V-3.985C1.016 -3.985 1.096 -3.915 1.096 -3.427Z' id='gfull0-110'/>
<path d='M1.664 -3.308V-4.403L0.279 -4.294V-3.985C0.976 -3.985 1.056 -3.915 1.056 -3.427V-0.757C1.056 -0.309 0.946 -0.309 0.279 -0.309V0C0.667 -0.01 1.136 -0.03 1.415 -0.03C1.813 -0.03 2.281 -0.03 2.68 0V-0.309H2.471C1.733 -0.309 1.714 -0.418 1.714 -0.777V-2.311C1.714 -3.298 2.132 -4.184 2.889 -4.184C2.959 -4.184 2.979 -4.184 2.999 -4.174C2.969 -4.164 2.77 -4.045 2.77 -3.786C2.77 -3.507 2.979 -3.357 3.198 -3.357C3.377 -3.357 3.626 -3.477 3.626 -3.796S3.318 -4.403 2.889 -4.403C2.162 -4.403 1.803 -3.736 1.664 -3.308Z' id='gfull0-114'/>
<path d='M1.596 -2.053C1.596 -2.421 1.695 -3.739 2.717 -3.739V-3.73C2.699 -3.721 2.555 -3.613 2.555 -3.398C2.555 -3.156 2.744 -3.004 2.95 -3.004C3.138 -3.004 3.344 -3.138 3.344 -3.407C3.344 -3.694 3.075 -3.963 2.672 -3.963C2.134 -3.963 1.757 -3.587 1.551 -3.031H1.542V-3.963L0.269 -3.865V-3.587C0.879 -3.587 0.959 -3.524 0.959 -3.084V-0.69C0.959 -0.278 0.861 -0.278 0.269 -0.278V0C0.744 -0.018 0.861 -0.027 1.318 -0.027C1.677 -0.027 1.892 -0.018 2.457 0V-0.278H2.277C1.623 -0.278 1.596 -0.377 1.596 -0.708V-2.053Z' id='gfull0-114-1'/>
<path d='M3.656 -3.168V-2.849C3.656 -0.518 2.62 -0.06 2.042 -0.06C1.873 -0.06 1.335 -0.08 1.066 -0.418C1.504 -0.418 1.584 -0.707 1.584 -0.877C1.584 -1.186 1.345 -1.335 1.126 -1.335C0.966 -1.335 0.667 -1.245 0.667 -0.857C0.667 -0.189 1.205 0.219 2.052 0.219C3.337 0.219 4.553 -1.136 4.553 -3.278C4.553 -5.958 3.407 -6.635 2.521 -6.635C1.973 -6.635 1.484 -6.456 1.056 -6.007C0.648 -5.559 0.418 -5.141 0.418 -4.394C0.418 -3.148 1.295 -2.172 2.411 -2.172C3.019 -2.172 3.427 -2.59 3.656 -3.168ZM2.421 -2.401C2.262 -2.401 1.803 -2.401 1.494 -3.029C1.315 -3.397 1.315 -3.895 1.315 -4.384C1.315 -4.922 1.315 -5.39 1.524 -5.758C1.793 -6.257 2.172 -6.386 2.521 -6.386C2.979 -6.386 3.308 -6.047 3.477 -5.599C3.597 -5.28 3.636 -4.653 3.636 -4.194C3.636 -3.367 3.298 -2.401 2.421 -2.401Z' id='gfull0-57'/>
<path d='M3.965 -6.934C3.915 -7.064 3.895 -7.133 3.736 -7.133S3.547 -7.073 3.497 -6.934L1.435 -0.976C1.255 -0.468 0.857 -0.319 0.319 -0.309V0C0.548 -0.01 0.976 -0.03 1.335 -0.03C1.644 -0.03 2.162 -0.01 2.481 0V-0.309C1.983 -0.309 1.733 -0.558 1.733 -0.817C1.733 -0.847 1.743 -0.946 1.753 -0.966L2.212 -2.271H4.672L5.2 -0.747C5.21 -0.707 5.23 -0.648 5.23 -0.608C5.23 -0.309 4.672 -0.309 4.403 -0.309V0C4.762 -0.03 5.46 -0.03 5.838 -0.03C6.267 -0.03 6.725 -0.02 7.143 0V-0.309H6.964C6.366 -0.309 6.227 -0.379 6.117 -0.707L3.965 -6.934ZM3.437 -5.818L4.563 -2.58H2.321L3.437 -5.818Z' id='gfull0-65'/>
<path d='M3.667 -6.232C3.622 -6.348 3.596 -6.42 3.452 -6.42S3.291 -6.366 3.237 -6.223L1.309 -0.897C1.201 -0.601 0.995 -0.287 0.305 -0.278V0C0.646 -0.027 0.888 -0.027 1.219 -0.027C1.533 -0.027 1.731 -0.018 2.233 0V-0.278C1.722 -0.287 1.569 -0.565 1.569 -0.735C1.569 -0.816 1.587 -0.861 1.605 -0.906L2.026 -2.062H4.349L4.833 -0.708C4.869 -0.619 4.878 -0.592 4.878 -0.547C4.878 -0.278 4.376 -0.278 4.142 -0.278V0C4.546 -0.027 5.012 -0.027 5.425 -0.027C5.828 -0.027 5.855 -0.027 6.599 0V-0.278H6.447C5.891 -0.278 5.792 -0.359 5.703 -0.61L3.667 -6.232ZM4.241 -2.34H2.125L3.183 -5.272L4.241 -2.34Z' id='gfull0-65-1'/>
<path d='M2.262 -3.148H3.945C5.141 -3.148 6.217 -3.955 6.217 -4.951C6.217 -5.928 5.23 -6.804 3.866 -6.804H0.349V-6.496H0.588C1.355 -6.496 1.375 -6.386 1.375 -6.027V-0.777C1.375 -0.418 1.355 -0.309 0.588 -0.309H0.349V0C0.697 -0.03 1.435 -0.03 1.813 -0.03S2.939 -0.03 3.288 0V-0.309H3.049C2.281 -0.309 2.262 -0.418 2.262 -0.777V-3.148ZM2.232 -3.407V-6.097C2.232 -6.426 2.252 -6.496 2.72 -6.496H3.606C5.191 -6.496 5.191 -5.44 5.191 -4.951C5.191 -4.483 5.191 -3.407 3.606 -3.407H2.232Z' id='gfull0-80'/>
<path d='M3.578 -2.815C4.833 -2.815 5.747 -3.596 5.747 -4.456C5.747 -5.344 4.824 -6.124 3.578 -6.124H0.359V-5.846H0.565C1.255 -5.846 1.273 -5.747 1.273 -5.416V-0.708C1.273 -0.377 1.255 -0.278 0.565 -0.278H0.359V0C0.762 -0.027 1.264 -0.027 1.677 -0.027S2.591 -0.027 2.995 0V-0.278H2.789C2.098 -0.278 2.08 -0.377 2.08 -0.708V-2.815H3.578ZM2.053 -5.478C2.053 -5.783 2.071 -5.846 2.493 -5.846H3.353C4.833 -5.846 4.833 -4.86 4.833 -4.456S4.833 -3.067 3.344 -3.067H2.053V-5.478Z' id='gfull0-80-1'/>
<path d='M2.212 -1.714C1.345 -1.714 1.345 -2.71 1.345 -2.939C1.345 -3.208 1.355 -3.527 1.504 -3.776C1.584 -3.895 1.813 -4.174 2.212 -4.174C3.078 -4.174 3.078 -3.178 3.078 -2.949C3.078 -2.68 3.068 -2.361 2.919 -2.112C2.839 -1.993 2.61 -1.714 2.212 -1.714ZM1.056 -1.325C1.056 -1.365 1.056 -1.594 1.225 -1.793C1.614 -1.514 2.022 -1.484 2.212 -1.484C3.138 -1.484 3.826 -2.172 3.826 -2.939C3.826 -3.308 3.666 -3.676 3.417 -3.905C3.776 -4.244 4.134 -4.294 4.314 -4.294C4.334 -4.294 4.384 -4.294 4.413 -4.284C4.304 -4.244 4.254 -4.134 4.254 -4.015C4.254 -3.846 4.384 -3.726 4.543 -3.726C4.643 -3.726 4.832 -3.796 4.832 -4.025C4.832 -4.194 4.712 -4.513 4.324 -4.513C4.125 -4.513 3.686 -4.453 3.268 -4.045C2.849 -4.374 2.431 -4.403 2.212 -4.403C1.285 -4.403 0.598 -3.716 0.598 -2.949C0.598 -2.511 0.817 -2.132 1.066 -1.923C0.936 -1.773 0.757 -1.445 0.757 -1.096C0.757 -0.787 0.887 -0.408 1.196 -0.209C0.598 -0.04 0.279 0.389 0.279 0.787C0.279 1.504 1.265 2.052 2.481 2.052C3.656 2.052 4.692 1.544 4.692 0.767C4.692 0.418 4.553 -0.09 4.045 -0.369C3.517 -0.648 2.939 -0.648 2.331 -0.648C2.082 -0.648 1.654 -0.648 1.584 -0.658C1.265 -0.697 1.056 -1.006 1.056 -1.325ZM2.491 1.823C1.484 1.823 0.797 1.315 0.797 0.787C0.797 0.329 1.176 -0.04 1.614 -0.07H2.202C3.059 -0.07 4.174 -0.07 4.174 0.787C4.174 1.325 3.467 1.823 2.491 1.823Z' id='gfull0-103'/>
<path d='M1.121 -1.605C1.345 -1.462 1.623 -1.327 2.035 -1.327C2.887 -1.327 3.533 -1.937 3.533 -2.645C3.533 -3.084 3.282 -3.389 3.165 -3.515C3.524 -3.838 3.945 -3.838 4.053 -3.838C4.008 -3.811 3.936 -3.766 3.936 -3.604C3.936 -3.506 3.999 -3.335 4.205 -3.335C4.331 -3.335 4.474 -3.425 4.474 -3.613C4.474 -3.784 4.349 -4.062 3.99 -4.062C3.73 -4.062 3.327 -3.963 3.013 -3.64C2.771 -3.838 2.421 -3.963 2.044 -3.963C1.193 -3.963 0.547 -3.353 0.547 -2.645C0.547 -2.188 0.816 -1.865 0.959 -1.731C0.941 -1.713 0.69 -1.399 0.69 -0.986C0.69 -0.681 0.834 -0.359 1.076 -0.197C0.619 -0.054 0.26 0.278 0.26 0.699C0.26 1.336 1.148 1.847 2.295 1.847C3.398 1.847 4.34 1.372 4.34 0.681C4.34 0.314 4.169 -0.081 3.838 -0.296C3.335 -0.61 2.815 -0.61 1.964 -0.61C1.784 -0.61 1.497 -0.61 1.426 -0.628C1.166 -0.681 0.995 -0.924 0.995 -1.21C0.995 -1.354 1.04 -1.488 1.121 -1.605ZM2.035 -1.569C1.237 -1.569 1.237 -2.448 1.237 -2.645C1.237 -2.887 1.255 -3.192 1.408 -3.407C1.542 -3.587 1.784 -3.721 2.035 -3.721C2.842 -3.721 2.842 -2.851 2.842 -2.645S2.842 -1.569 2.035 -1.569ZM2.448 -0.045C2.735 -0.045 3.838 -0.036 3.838 0.69C3.838 1.201 3.147 1.605 2.304 1.605C1.426 1.605 0.762 1.184 0.762 0.69C0.762 0.547 0.852 -0.045 1.623 -0.045H2.448Z' id='gfull0-103-1'/>
<path d='M6.635 -6.745H0.548L0.359 -4.503H0.608C0.747 -6.107 0.897 -6.436 2.401 -6.436C2.58 -6.436 2.839 -6.436 2.939 -6.416C3.148 -6.376 3.148 -6.267 3.148 -6.037V-0.787C3.148 -0.448 3.148 -0.309 2.102 -0.309H1.704V0C2.112 -0.03 3.128 -0.03 3.587 -0.03S5.071 -0.03 5.479 0V-0.309H5.081C4.035 -0.309 4.035 -0.448 4.035 -0.787V-6.037C4.035 -6.237 4.035 -6.376 4.214 -6.416C4.324 -6.436 4.593 -6.436 4.782 -6.436C6.286 -6.436 6.436 -6.107 6.575 -4.503H6.824L6.635 -6.745Z' id='gfull0-84'/>
<path d='M6.133 -6.07H0.511L0.332 -4.053H0.583C0.708 -5.532 0.888 -5.792 2.233 -5.792C2.403 -5.792 2.663 -5.792 2.753 -5.774C2.914 -5.738 2.923 -5.649 2.923 -5.425V-0.717C2.923 -0.412 2.923 -0.278 1.982 -0.278H1.632V0C1.955 -0.027 2.941 -0.027 3.327 -0.027S4.698 -0.027 5.021 0V-0.278H4.671C3.73 -0.278 3.73 -0.412 3.73 -0.717V-5.425C3.73 -5.658 3.739 -5.738 3.918 -5.774C4.008 -5.792 4.25 -5.792 4.411 -5.792C5.756 -5.792 5.936 -5.532 6.061 -4.053H6.312L6.133 -6.07Z' id='gfull0-84-1'/>
<path d='M1.714 -3.756V-6.914L0.279 -6.804V-6.496C0.976 -6.496 1.056 -6.426 1.056 -5.938V0H1.305C1.315 -0.01 1.395 -0.149 1.664 -0.618C1.813 -0.389 2.232 0.11 2.969 0.11C4.154 0.11 5.191 -0.867 5.191 -2.152C5.191 -3.417 4.214 -4.403 3.078 -4.403C2.301 -4.403 1.873 -3.935 1.714 -3.756ZM1.743 -1.136V-3.188C1.743 -3.377 1.743 -3.387 1.853 -3.547C2.242 -4.105 2.79 -4.184 3.029 -4.184C3.477 -4.184 3.836 -3.925 4.075 -3.547C4.334 -3.138 4.364 -2.57 4.364 -2.162C4.364 -1.793 4.344 -1.196 4.055 -0.747C3.846 -0.438 3.467 -0.11 2.929 -0.11C2.481 -0.11 2.122 -0.349 1.883 -0.717C1.743 -0.927 1.743 -0.956 1.743 -1.136Z' id='gfull0-98'/>
<path d='M1.623 -2.86C1.623 -3.031 1.623 -3.04 1.722 -3.183C2.026 -3.596 2.466 -3.739 2.806 -3.739C3.192 -3.739 3.551 -3.524 3.784 -3.147C4.017 -2.762 4.035 -2.233 4.035 -1.946C4.035 -1.524 3.981 -1.049 3.748 -0.69C3.551 -0.403 3.183 -0.126 2.708 -0.126C2.304 -0.126 1.964 -0.341 1.748 -0.672C1.623 -0.861 1.623 -0.87 1.623 -1.04V-2.86ZM1.542 -0.547C1.82 -0.152 2.268 0.099 2.753 0.099C3.82 0.099 4.806 -0.762 4.806 -1.937C4.806 -3.058 3.918 -3.963 2.842 -3.963C2.233 -3.963 1.811 -3.649 1.596 -3.407V-6.223L0.269 -6.124V-5.846C0.879 -5.846 0.959 -5.783 0.959 -5.344V0H1.21L1.542 -0.547Z' id='gfull0-98-1'/>
<path d='M3.786 -0.548V0.11L5.25 0V-0.309C4.553 -0.309 4.473 -0.379 4.473 -0.867V-6.914L3.039 -6.804V-6.496C3.736 -6.496 3.816 -6.426 3.816 -5.938V-3.786C3.527 -4.144 3.098 -4.403 2.56 -4.403C1.385 -4.403 0.339 -3.427 0.339 -2.142C0.339 -0.877 1.315 0.11 2.451 0.11C3.088 0.11 3.537 -0.229 3.786 -0.548ZM3.786 -3.218V-1.176C3.786 -0.996 3.786 -0.976 3.676 -0.807C3.377 -0.329 2.929 -0.11 2.501 -0.11C2.052 -0.11 1.694 -0.369 1.455 -0.747C1.196 -1.156 1.166 -1.724 1.166 -2.132C1.166 -2.501 1.186 -3.098 1.474 -3.547C1.684 -3.856 2.062 -4.184 2.6 -4.184C2.949 -4.184 3.367 -4.035 3.676 -3.587C3.786 -3.417 3.786 -3.397 3.786 -3.218Z' id='gfull0-100'/>
<path d='M1.743 -4.294V-5.45C1.743 -6.326 2.222 -6.804 2.66 -6.804C2.69 -6.804 2.839 -6.804 2.989 -6.735C2.869 -6.695 2.69 -6.565 2.69 -6.316C2.69 -6.087 2.849 -5.888 3.118 -5.888C3.407 -5.888 3.557 -6.087 3.557 -6.326C3.557 -6.695 3.188 -7.024 2.66 -7.024C1.963 -7.024 1.116 -6.496 1.116 -5.44V-4.294H0.329V-3.985H1.116V-0.757C1.116 -0.309 1.006 -0.309 0.339 -0.309V0C0.727 -0.01 1.196 -0.03 1.474 -0.03C1.873 -0.03 2.341 -0.03 2.74 0V-0.309H2.531C1.793 -0.309 1.773 -0.418 1.773 -0.777V-3.985H2.909V-4.294H1.743Z' id='gfull0-102'/>
<path d='M1.763 -4.403L0.369 -4.294V-3.985C1.016 -3.985 1.106 -3.925 1.106 -3.437V-0.757C1.106 -0.309 0.996 -0.309 0.329 -0.309V0C0.648 -0.01 1.186 -0.03 1.425 -0.03C1.773 -0.03 2.122 -0.01 2.461 0V-0.309C1.803 -0.309 1.763 -0.359 1.763 -0.747V-4.403ZM1.803 -6.137C1.803 -6.456 1.554 -6.665 1.275 -6.665C0.966 -6.665 0.747 -6.396 0.747 -6.137C0.747 -5.868 0.966 -5.609 1.275 -5.609C1.554 -5.609 1.803 -5.818 1.803 -6.137Z' id='gfull0-105'/>
<path d='M4.692 -2.132C4.692 -3.407 3.696 -4.463 2.491 -4.463C1.245 -4.463 0.279 -3.377 0.279 -2.132C0.279 -0.847 1.315 0.11 2.481 0.11C3.686 0.11 4.692 -0.867 4.692 -2.132ZM2.491 -0.139C2.062 -0.139 1.624 -0.349 1.355 -0.807C1.106 -1.245 1.106 -1.853 1.106 -2.212C1.106 -2.6 1.106 -3.138 1.345 -3.577C1.614 -4.035 2.082 -4.244 2.481 -4.244C2.919 -4.244 3.347 -4.025 3.606 -3.597S3.866 -2.59 3.866 -2.212C3.866 -1.853 3.866 -1.315 3.646 -0.877C3.427 -0.428 2.989 -0.139 2.491 -0.139Z' id='gfull0-111'/>
<path d='M2.072 -1.933C2.291 -1.893 3.108 -1.733 3.108 -1.016C3.108 -0.508 2.76 -0.11 1.983 -0.11C1.146 -0.11 0.787 -0.677 0.598 -1.524C0.568 -1.654 0.558 -1.694 0.458 -1.694C0.329 -1.694 0.329 -1.624 0.329 -1.445V-0.13C0.329 0.04 0.329 0.11 0.438 0.11C0.488 0.11 0.498 0.1 0.687 -0.09C0.707 -0.11 0.707 -0.13 0.887 -0.319C1.325 0.1 1.773 0.11 1.983 0.11C3.128 0.11 3.587 -0.558 3.587 -1.275C3.587 -1.803 3.288 -2.102 3.168 -2.222C2.839 -2.54 2.451 -2.62 2.032 -2.7C1.474 -2.809 0.807 -2.939 0.807 -3.517C0.807 -3.866 1.066 -4.274 1.923 -4.274C3.019 -4.274 3.068 -3.377 3.088 -3.068C3.098 -2.979 3.188 -2.979 3.208 -2.979C3.337 -2.979 3.337 -3.029 3.337 -3.218V-4.224C3.337 -4.394 3.337 -4.463 3.228 -4.463C3.178 -4.463 3.158 -4.463 3.029 -4.344C2.999 -4.304 2.899 -4.214 2.859 -4.184C2.481 -4.463 2.072 -4.463 1.923 -4.463C0.707 -4.463 0.329 -3.796 0.329 -3.238C0.329 -2.889 0.488 -2.61 0.757 -2.391C1.076 -2.132 1.355 -2.072 2.072 -1.933Z' id='gfull0-115'/>
<path d='M6.167 -3.347C6.346 -3.846 6.655 -3.975 7.004 -3.985V-4.294C6.785 -4.274 6.496 -4.264 6.276 -4.264C5.988 -4.264 5.539 -4.284 5.35 -4.294V-3.985C5.709 -3.975 5.928 -3.796 5.928 -3.507C5.928 -3.447 5.928 -3.427 5.878 -3.298L4.971 -0.747L3.985 -3.527C3.945 -3.646 3.935 -3.666 3.935 -3.716C3.935 -3.985 4.324 -3.985 4.523 -3.985V-4.294C4.234 -4.284 3.726 -4.264 3.487 -4.264C3.188 -4.264 2.899 -4.274 2.6 -4.294V-3.985C2.969 -3.985 3.128 -3.965 3.228 -3.836C3.278 -3.776 3.387 -3.477 3.457 -3.288L2.6 -0.877L1.654 -3.537C1.604 -3.656 1.604 -3.676 1.604 -3.716C1.604 -3.985 1.993 -3.985 2.192 -3.985V-4.294C1.893 -4.284 1.335 -4.264 1.106 -4.264C1.066 -4.264 0.538 -4.274 0.179 -4.294V-3.985C0.677 -3.985 0.797 -3.955 0.917 -3.636L2.172 -0.11C2.222 0.03 2.252 0.11 2.381 0.11S2.531 0.05 2.58 -0.09L3.587 -2.909L4.603 -0.08C4.643 0.03 4.672 0.11 4.802 0.11S4.961 0.02 5.001 -0.08L6.167 -3.347Z' id='gfull0-119'/>
<path d='M2.75 -7.938C2.666 -8.165 2.654 -8.165 2.379 -8.165H0.526V-7.819H0.765C1.626 -7.819 1.662 -7.699 1.662 -7.257V-1.231C1.662 -0.909 1.662 -0.347 0.526 -0.347V0C0.837 -0.024 1.47 -0.024 1.805 -0.024S2.774 -0.024 3.084 0V-0.347C1.949 -0.347 1.949 -0.909 1.949 -1.231V-7.759H1.961L4.842 -0.227C4.89 -0.096 4.926 0 5.045 0C5.153 0 5.177 -0.06 5.248 -0.239L8.153 -7.819H8.165V-0.909C8.165 -0.466 8.13 -0.347 7.269 -0.347H7.03V0C7.305 -0.024 8.261 -0.024 8.608 -0.024S9.911 -0.024 10.186 0V-0.347H9.947C9.086 -0.347 9.05 -0.466 9.05 -0.909V-7.257C9.05 -7.699 9.086 -7.819 9.947 -7.819H10.186V-8.165H8.333C8.07 -8.165 8.058 -8.153 7.962 -7.926L5.356 -1.124L2.75 -7.938Z' id='gfull1-77'/>
<path d='M2.606 -3.802H4.627C6.025 -3.802 7.305 -4.746 7.305 -5.954C7.305 -7.113 6.145 -8.165 4.531 -8.165H0.502V-7.819H0.741C1.602 -7.819 1.638 -7.699 1.638 -7.257V-0.909C1.638 -0.466 1.602 -0.347 0.741 -0.347H0.502V0C0.789 -0.024 1.769 -0.024 2.116 -0.024C2.475 -0.024 3.455 -0.024 3.742 0V-0.347H3.503C2.642 -0.347 2.606 -0.466 2.606 -0.909V-3.802ZM2.582 -4.089V-7.34C2.582 -7.735 2.606 -7.819 3.132 -7.819H4.256C6.193 -7.819 6.193 -6.468 6.193 -5.954C6.193 -5.452 6.193 -4.089 4.244 -4.089H2.582Z' id='gfull1-80'/>
<path d='M7.305 -6.982C7.412 -7.281 7.615 -7.807 8.548 -7.819V-8.165C7.938 -8.141 7.914 -8.141 7.448 -8.141C7.125 -8.141 6.528 -8.141 6.229 -8.165V-7.819C6.838 -7.807 7.018 -7.472 7.018 -7.233C7.018 -7.161 7.018 -7.137 6.946 -6.97L4.71 -1.076L2.355 -7.293C2.295 -7.424 2.295 -7.448 2.295 -7.472C2.295 -7.819 2.893 -7.819 3.192 -7.819V-8.165C2.905 -8.141 1.997 -8.141 1.65 -8.141C1.315 -8.141 0.502 -8.141 0.215 -8.165V-7.819C0.956 -7.819 1.148 -7.819 1.327 -7.34L4.125 0.024C4.184 0.191 4.208 0.251 4.376 0.251S4.555 0.215 4.639 0.012L7.305 -6.982Z' id='gfull1-86'/>
<path d='M4.615 -3.192C4.615 -3.838 4.615 -4.316 4.089 -4.782C3.67 -5.165 3.132 -5.332 2.606 -5.332C1.626 -5.332 0.873 -4.686 0.873 -3.909C0.873 -3.563 1.1 -3.395 1.375 -3.395C1.662 -3.395 1.865 -3.599 1.865 -3.885C1.865 -4.376 1.435 -4.376 1.255 -4.376C1.53 -4.878 2.104 -5.093 2.582 -5.093C3.132 -5.093 3.838 -4.639 3.838 -3.563V-3.084C1.435 -3.049 0.526 -2.044 0.526 -1.124C0.526 -0.179 1.626 0.12 2.355 0.12C3.144 0.12 3.682 -0.359 3.909 -0.933C3.957 -0.371 4.328 0.06 4.842 0.06C5.093 0.06 5.786 -0.108 5.786 -1.064V-1.733H5.523V-1.064C5.523 -0.383 5.236 -0.287 5.069 -0.287C4.615 -0.287 4.615 -0.921 4.615 -1.1V-3.192ZM3.838 -1.686C3.838 -0.514 2.965 -0.12 2.451 -0.12C1.865 -0.12 1.375 -0.55 1.375 -1.124C1.375 -2.702 3.407 -2.845 3.838 -2.869V-1.686Z' id='gfull1-97'/>
<path d='M4.328 -4.423C4.184 -4.423 3.742 -4.423 3.742 -3.933C3.742 -3.646 3.945 -3.443 4.232 -3.443C4.507 -3.443 4.734 -3.61 4.734 -3.957C4.734 -4.758 3.897 -5.332 2.929 -5.332C1.53 -5.332 0.418 -4.089 0.418 -2.582C0.418 -1.052 1.566 0.12 2.917 0.12C4.495 0.12 4.854 -1.315 4.854 -1.423S4.77 -1.53 4.734 -1.53C4.627 -1.53 4.615 -1.494 4.579 -1.351C4.316 -0.502 3.67 -0.143 3.025 -0.143C2.295 -0.143 1.327 -0.777 1.327 -2.594C1.327 -4.579 2.343 -5.069 2.941 -5.069C3.395 -5.069 4.053 -4.89 4.328 -4.423Z' id='gfull1-99'/>
<path d='M4.579 -2.774C4.842 -2.774 4.866 -2.774 4.866 -3.001C4.866 -4.208 4.22 -5.332 2.774 -5.332C1.411 -5.332 0.359 -4.101 0.359 -2.618C0.359 -1.04 1.578 0.12 2.905 0.12C4.328 0.12 4.866 -1.172 4.866 -1.423C4.866 -1.494 4.806 -1.542 4.734 -1.542C4.639 -1.542 4.615 -1.482 4.591 -1.423C4.28 -0.418 3.479 -0.143 2.977 -0.143S1.267 -0.478 1.267 -2.546V-2.774H4.579ZM1.279 -3.001C1.375 -4.878 2.427 -5.093 2.762 -5.093C4.041 -5.093 4.113 -3.407 4.125 -3.001H1.279Z' id='gfull1-101'/>
<path d='M5.32 -2.905C5.32 -4.017 5.32 -4.352 5.045 -4.734C4.698 -5.2 4.136 -5.272 3.73 -5.272C2.702 -5.272 2.224 -4.495 2.056 -4.125H2.044V-8.297L0.383 -8.165V-7.819C1.196 -7.819 1.291 -7.735 1.291 -7.149V-0.885C1.291 -0.347 1.16 -0.347 0.383 -0.347V0C0.693 -0.024 1.339 -0.024 1.674 -0.024C2.02 -0.024 2.666 -0.024 2.977 0V-0.347C2.212 -0.347 2.068 -0.347 2.068 -0.885V-3.108C2.068 -4.364 2.893 -5.033 3.634 -5.033S4.543 -4.423 4.543 -3.694V-0.885C4.543 -0.347 4.411 -0.347 3.634 -0.347V0C3.945 -0.024 4.591 -0.024 4.926 -0.024C5.272 -0.024 5.918 -0.024 6.229 0V-0.347C5.631 -0.347 5.332 -0.347 5.32 -0.705V-2.905Z' id='gfull1-104'/>
<path d='M2.08 -7.364C2.08 -7.675 1.829 -7.95 1.494 -7.95C1.184 -7.95 0.921 -7.699 0.921 -7.376C0.921 -7.018 1.207 -6.791 1.494 -6.791C1.865 -6.791 2.08 -7.101 2.08 -7.364ZM0.43 -5.141V-4.794C1.196 -4.794 1.303 -4.722 1.303 -4.136V-0.885C1.303 -0.347 1.172 -0.347 0.395 -0.347V0C0.729 -0.024 1.303 -0.024 1.65 -0.024C1.781 -0.024 2.475 -0.024 2.881 0V-0.347C2.104 -0.347 2.056 -0.406 2.056 -0.873V-5.272L0.43 -5.141Z' id='gfull1-105'/>
<path d='M2.056 -8.297L0.395 -8.165V-7.819C1.207 -7.819 1.303 -7.735 1.303 -7.149V-0.885C1.303 -0.347 1.172 -0.347 0.395 -0.347V0C0.729 -0.024 1.315 -0.024 1.674 -0.024S2.63 -0.024 2.965 0V-0.347C2.2 -0.347 2.056 -0.347 2.056 -0.885V-8.297Z' id='gfull1-108'/>
<path d='M8.572 -2.905C8.572 -4.017 8.572 -4.352 8.297 -4.734C7.95 -5.2 7.388 -5.272 6.982 -5.272C5.99 -5.272 5.487 -4.555 5.296 -4.089C5.129 -5.009 4.483 -5.272 3.73 -5.272C2.57 -5.272 2.116 -4.28 2.02 -4.041H2.008V-5.272L0.383 -5.141V-4.794C1.196 -4.794 1.291 -4.71 1.291 -4.125V-0.885C1.291 -0.347 1.16 -0.347 0.383 -0.347V0C0.693 -0.024 1.339 -0.024 1.674 -0.024C2.02 -0.024 2.666 -0.024 2.977 0V-0.347C2.212 -0.347 2.068 -0.347 2.068 -0.885V-3.108C2.068 -4.364 2.893 -5.033 3.634 -5.033S4.543 -4.423 4.543 -3.694V-0.885C4.543 -0.347 4.411 -0.347 3.634 -0.347V0C3.945 -0.024 4.591 -0.024 4.926 -0.024C5.272 -0.024 5.918 -0.024 6.229 0V-0.347C5.464 -0.347 5.32 -0.347 5.32 -0.885V-3.108C5.32 -4.364 6.145 -5.033 6.886 -5.033S7.795 -4.423 7.795 -3.694V-0.885C7.795 -0.347 7.663 -0.347 6.886 -0.347V0C7.197 -0.024 7.843 -0.024 8.177 -0.024C8.524 -0.024 9.17 -0.024 9.48 0V-0.347C8.883 -0.347 8.584 -0.347 8.572 -0.705V-2.905Z' id='gfull1-109'/>
<path d='M5.487 -2.558C5.487 -4.101 4.316 -5.332 2.929 -5.332C1.494 -5.332 0.359 -4.065 0.359 -2.558C0.359 -1.028 1.554 0.12 2.917 0.12C4.328 0.12 5.487 -1.052 5.487 -2.558ZM2.929 -0.143C2.487 -0.143 1.949 -0.335 1.602 -0.921C1.279 -1.459 1.267 -2.164 1.267 -2.666C1.267 -3.12 1.267 -3.85 1.638 -4.388C1.973 -4.902 2.499 -5.093 2.917 -5.093C3.383 -5.093 3.885 -4.878 4.208 -4.411C4.579 -3.862 4.579 -3.108 4.579 -2.666C4.579 -2.248 4.579 -1.506 4.268 -0.944C3.933 -0.371 3.383 -0.143 2.929 -0.143Z' id='gfull1-111'/>
<path d='M2.929 1.973C2.164 1.973 2.02 1.973 2.02 1.435V-0.646C2.236 -0.347 2.726 0.12 3.491 0.12C4.866 0.12 6.073 -1.04 6.073 -2.582C6.073 -4.101 4.949 -5.272 3.646 -5.272C2.594 -5.272 2.032 -4.519 1.997 -4.471V-5.272L0.335 -5.141V-4.794C1.172 -4.794 1.243 -4.71 1.243 -4.184V1.435C1.243 1.973 1.112 1.973 0.335 1.973V2.319C0.646 2.295 1.291 2.295 1.626 2.295C1.973 2.295 2.618 2.295 2.929 2.319V1.973ZM2.02 -3.814C2.02 -4.041 2.02 -4.053 2.152 -4.244C2.511 -4.782 3.096 -5.009 3.551 -5.009C4.447 -5.009 5.165 -3.921 5.165 -2.582C5.165 -1.16 4.352 -0.12 3.431 -0.12C3.061 -0.12 2.714 -0.275 2.475 -0.502C2.2 -0.777 2.02 -1.016 2.02 -1.351V-3.814Z' id='gfull1-112'/>
<path d='M1.997 -2.786C1.997 -3.945 2.475 -5.033 3.395 -5.033C3.491 -5.033 3.515 -5.033 3.563 -5.021C3.467 -4.973 3.276 -4.902 3.276 -4.579C3.276 -4.232 3.551 -4.101 3.742 -4.101C3.981 -4.101 4.22 -4.256 4.22 -4.579C4.22 -4.937 3.897 -5.272 3.383 -5.272C2.367 -5.272 2.02 -4.172 1.949 -3.945H1.937V-5.272L0.335 -5.141V-4.794C1.148 -4.794 1.243 -4.71 1.243 -4.125V-0.885C1.243 -0.347 1.112 -0.347 0.335 -0.347V0C0.669 -0.024 1.327 -0.024 1.686 -0.024C2.008 -0.024 2.857 -0.024 3.132 0V-0.347H2.893C2.02 -0.347 1.997 -0.478 1.997 -0.909V-2.786Z' id='gfull1-114'/>
<path d='M3.921 -5.057C3.921 -5.272 3.921 -5.332 3.802 -5.332C3.706 -5.332 3.479 -5.069 3.395 -4.961C3.025 -5.26 2.654 -5.332 2.271 -5.332C0.825 -5.332 0.395 -4.543 0.395 -3.885C0.395 -3.754 0.395 -3.335 0.849 -2.917C1.231 -2.582 1.638 -2.499 2.188 -2.391C2.845 -2.26 3.001 -2.224 3.3 -1.985C3.515 -1.805 3.67 -1.542 3.67 -1.207C3.67 -0.693 3.371 -0.12 2.319 -0.12C1.53 -0.12 0.956 -0.574 0.693 -1.769C0.646 -1.985 0.646 -1.997 0.634 -2.008C0.61 -2.056 0.562 -2.056 0.526 -2.056C0.395 -2.056 0.395 -1.997 0.395 -1.781V-0.155C0.395 0.06 0.395 0.12 0.514 0.12C0.574 0.12 0.586 0.108 0.789 -0.143C0.849 -0.227 0.849 -0.251 1.028 -0.442C1.482 0.12 2.128 0.12 2.331 0.12C3.587 0.12 4.208 -0.574 4.208 -1.518C4.208 -2.164 3.814 -2.546 3.706 -2.654C3.276 -3.025 2.953 -3.096 2.164 -3.24C1.805 -3.312 0.933 -3.479 0.933 -4.196C0.933 -4.567 1.184 -5.117 2.26 -5.117C3.563 -5.117 3.634 -4.005 3.658 -3.634C3.67 -3.539 3.754 -3.539 3.79 -3.539C3.921 -3.539 3.921 -3.599 3.921 -3.814V-5.057Z' id='gfull1-115'/>
<path d='M2.008 -4.806H3.694V-5.153H2.008V-7.352H1.745C1.733 -6.229 1.303 -5.081 0.215 -5.045V-4.806H1.231V-1.482C1.231 -0.155 2.116 0.12 2.75 0.12C3.503 0.12 3.897 -0.622 3.897 -1.482V-2.164H3.634V-1.506C3.634 -0.646 3.288 -0.143 2.821 -0.143C2.008 -0.143 2.008 -1.255 2.008 -1.459V-4.806Z' id='gfull1-116'/>
<path d='M3.634 -5.141V-4.794C4.447 -4.794 4.543 -4.71 4.543 -4.125V-1.985C4.543 -0.968 4.005 -0.12 3.108 -0.12C2.128 -0.12 2.068 -0.681 2.068 -1.315V-5.272L0.383 -5.141V-4.794C1.291 -4.794 1.291 -4.758 1.291 -3.694V-1.901C1.291 -1.16 1.291 -0.729 1.65 -0.335C1.937 -0.024 2.427 0.12 3.037 0.12C3.24 0.12 3.622 0.12 4.029 -0.227C4.376 -0.502 4.567 -0.956 4.567 -0.956V0.12L6.229 0V-0.347C5.416 -0.347 5.32 -0.43 5.32 -1.016V-5.272L3.634 -5.141Z' id='gfull1-117'/>
<path d='M4.842 -3.993C5.165 -4.794 5.727 -4.806 5.954 -4.806V-5.153C5.607 -5.129 5.44 -5.129 5.057 -5.129C4.782 -5.129 4.758 -5.129 4.089 -5.153V-4.806C4.531 -4.782 4.639 -4.507 4.639 -4.292C4.639 -4.184 4.615 -4.125 4.567 -4.005L3.347 -0.992L2.02 -4.244C1.949 -4.411 1.949 -4.483 1.949 -4.495C1.949 -4.806 2.367 -4.806 2.606 -4.806V-5.153C2.295 -5.129 1.71 -5.129 1.375 -5.129C0.921 -5.129 0.897 -5.129 0.215 -5.153V-4.806C0.909 -4.806 1.004 -4.746 1.16 -4.376L2.941 0C2.415 1.267 2.415 1.291 2.367 1.387C2.164 1.745 1.841 2.2 1.303 2.2C0.933 2.2 0.705 1.985 0.705 1.985S1.124 1.937 1.124 1.518C1.124 1.231 0.897 1.076 0.681 1.076C0.478 1.076 0.227 1.196 0.227 1.542C0.227 1.997 0.669 2.439 1.303 2.439C1.973 2.439 2.463 1.853 2.774 1.1L4.842 -3.993Z' id='gfull1-121'/>
<path d='M4.583 -3.188C4.583 -3.985 4.533 -4.782 4.184 -5.519C3.726 -6.476 2.909 -6.635 2.491 -6.635C1.893 -6.635 1.166 -6.376 0.757 -5.45C0.438 -4.762 0.389 -3.985 0.389 -3.188C0.389 -2.441 0.428 -1.544 0.837 -0.787C1.265 0.02 1.993 0.219 2.481 0.219C3.019 0.219 3.776 0.01 4.214 -0.936C4.533 -1.624 4.583 -2.401 4.583 -3.188ZM2.481 0C2.092 0 1.504 -0.249 1.325 -1.205C1.215 -1.803 1.215 -2.72 1.215 -3.308C1.215 -3.945 1.215 -4.603 1.295 -5.141C1.484 -6.326 2.232 -6.416 2.481 -6.416C2.809 -6.416 3.467 -6.237 3.656 -5.25C3.756 -4.692 3.756 -3.935 3.756 -3.308C3.756 -2.56 3.756 -1.883 3.646 -1.245C3.497 -0.299 2.929 0 2.481 0Z' id='gfull2-48'/>
<path d='M2.929 -6.376C2.929 -6.615 2.929 -6.635 2.7 -6.635C2.082 -5.998 1.205 -5.998 0.887 -5.998V-5.689C1.086 -5.689 1.674 -5.689 2.192 -5.948V-0.787C2.192 -0.428 2.162 -0.309 1.265 -0.309H0.946V0C1.295 -0.03 2.162 -0.03 2.56 -0.03S3.826 -0.03 4.174 0V-0.309H3.856C2.959 -0.309 2.929 -0.418 2.929 -0.787V-6.376Z' id='gfull2-49'/>
<path d='M2.889 -3.507C3.706 -3.776 4.284 -4.473 4.284 -5.26C4.284 -6.077 3.407 -6.635 2.451 -6.635C1.445 -6.635 0.687 -6.037 0.687 -5.28C0.687 -4.951 0.907 -4.762 1.196 -4.762C1.504 -4.762 1.704 -4.981 1.704 -5.27C1.704 -5.768 1.235 -5.768 1.086 -5.768C1.395 -6.257 2.052 -6.386 2.411 -6.386C2.819 -6.386 3.367 -6.167 3.367 -5.27C3.367 -5.151 3.347 -4.573 3.088 -4.134C2.79 -3.656 2.451 -3.626 2.202 -3.616C2.122 -3.606 1.883 -3.587 1.813 -3.587C1.733 -3.577 1.664 -3.567 1.664 -3.467C1.664 -3.357 1.733 -3.357 1.903 -3.357H2.341C3.158 -3.357 3.527 -2.68 3.527 -1.704C3.527 -0.349 2.839 -0.06 2.401 -0.06C1.973 -0.06 1.225 -0.229 0.877 -0.817C1.225 -0.767 1.534 -0.986 1.534 -1.365C1.534 -1.724 1.265 -1.923 0.976 -1.923C0.737 -1.923 0.418 -1.783 0.418 -1.345C0.418 -0.438 1.345 0.219 2.431 0.219C3.646 0.219 4.553 -0.687 4.553 -1.704C4.553 -2.521 3.925 -3.298 2.889 -3.507Z' id='gfull2-51'/>
<path d='M3.656 -3.168V-2.849C3.656 -0.518 2.62 -0.06 2.042 -0.06C1.873 -0.06 1.335 -0.08 1.066 -0.418C1.504 -0.418 1.584 -0.707 1.584 -0.877C1.584 -1.186 1.345 -1.335 1.126 -1.335C0.966 -1.335 0.667 -1.245 0.667 -0.857C0.667 -0.189 1.205 0.219 2.052 0.219C3.337 0.219 4.553 -1.136 4.553 -3.278C4.553 -5.958 3.407 -6.635 2.521 -6.635C1.973 -6.635 1.484 -6.456 1.056 -6.007C0.648 -5.559 0.418 -5.141 0.418 -4.394C0.418 -3.148 1.295 -2.172 2.411 -2.172C3.019 -2.172 3.427 -2.59 3.656 -3.168ZM2.421 -2.401C2.262 -2.401 1.803 -2.401 1.494 -3.029C1.315 -3.397 1.315 -3.895 1.315 -4.384C1.315 -4.922 1.315 -5.39 1.524 -5.758C1.793 -6.257 2.172 -6.386 2.521 -6.386C2.979 -6.386 3.308 -6.047 3.477 -5.599C3.597 -5.28 3.636 -4.653 3.636 -4.194C3.636 -3.367 3.298 -2.401 2.421 -2.401Z' id='gfull2-57'/>
<path d='M3.965 -6.934C3.915 -7.064 3.895 -7.133 3.736 -7.133S3.547 -7.073 3.497 -6.934L1.435 -0.976C1.255 -0.468 0.857 -0.319 0.319 -0.309V0C0.548 -0.01 0.976 -0.03 1.335 -0.03C1.644 -0.03 2.162 -0.01 2.481 0V-0.309C1.983 -0.309 1.733 -0.558 1.733 -0.817C1.733 -0.847 1.743 -0.946 1.753 -0.966L2.212 -2.271H4.672L5.2 -0.747C5.21 -0.707 5.23 -0.648 5.23 -0.608C5.23 -0.309 4.672 -0.309 4.403 -0.309V0C4.762 -0.03 5.46 -0.03 5.838 -0.03C6.267 -0.03 6.725 -0.02 7.143 0V-0.309H6.964C6.366 -0.309 6.227 -0.379 6.117 -0.707L3.965 -6.934ZM3.437 -5.818L4.563 -2.58H2.321L3.437 -5.818Z' id='gfull2-65'/>
<path d='M1.355 -0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0H6.077L6.496 -2.57H6.247C5.998 -1.036 5.768 -0.309 4.055 -0.309H2.73C2.262 -0.309 2.242 -0.379 2.242 -0.707V-3.367H3.138C4.105 -3.367 4.214 -3.049 4.214 -2.202H4.463V-4.842H4.214C4.214 -3.985 4.105 -3.676 3.138 -3.676H2.242V-6.067C2.242 -6.396 2.262 -6.466 2.73 -6.466H4.015C5.539 -6.466 5.808 -5.918 5.968 -4.533H6.217L5.938 -6.775H0.329V-6.466H0.568C1.335 -6.466 1.355 -6.356 1.355 -5.998V-0.777Z' id='gfull2-69'/>
<path d='M5.798 -6.775H0.329V-6.466H0.568C1.335 -6.466 1.355 -6.356 1.355 -5.998V-0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0C0.677 -0.03 1.455 -0.03 1.843 -0.03C2.252 -0.03 3.158 -0.03 3.517 0V-0.309H3.188C2.242 -0.309 2.242 -0.438 2.242 -0.787V-3.238H3.098C4.055 -3.238 4.154 -2.919 4.154 -2.072H4.403V-4.712H4.154C4.154 -3.875 4.055 -3.547 3.098 -3.547H2.242V-6.067C2.242 -6.396 2.262 -6.466 2.73 -6.466H3.925C5.42 -6.466 5.669 -5.908 5.828 -4.533H6.077L5.798 -6.775Z' id='gfull2-70'/>
<path d='M3.985 -4.174L5.778 -5.898C5.858 -5.978 6.386 -6.486 7.193 -6.496V-6.804C6.934 -6.775 6.615 -6.775 6.346 -6.775C5.988 -6.775 5.42 -6.775 5.081 -6.804V-6.496C5.479 -6.486 5.539 -6.257 5.539 -6.167C5.539 -6.007 5.44 -5.908 5.36 -5.838L2.242 -2.859V-6.027C2.242 -6.386 2.262 -6.496 3.029 -6.496H3.268V-6.804C2.919 -6.775 2.182 -6.775 1.803 -6.775S0.677 -6.775 0.329 -6.804V-6.496H0.568C1.335 -6.496 1.355 -6.386 1.355 -6.027V-0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0C0.677 -0.03 1.415 -0.03 1.793 -0.03S2.919 -0.03 3.268 0V-0.309H3.029C2.262 -0.309 2.242 -0.418 2.242 -0.777V-2.521L3.397 -3.616L5.2 -0.946C5.26 -0.857 5.35 -0.727 5.35 -0.608C5.35 -0.309 4.961 -0.309 4.762 -0.309V0C5.111 -0.03 5.808 -0.03 6.187 -0.03C6.535 -0.03 6.914 -0.02 7.333 0V-0.309C6.795 -0.309 6.585 -0.349 6.286 -0.787L3.985 -4.174Z' id='gfull2-75'/>
<path d='M2.262 -3.148H3.945C5.141 -3.148 6.217 -3.955 6.217 -4.951C6.217 -5.928 5.23 -6.804 3.866 -6.804H0.349V-6.496H0.588C1.355 -6.496 1.375 -6.386 1.375 -6.027V-0.777C1.375 -0.418 1.355 -0.309 0.588 -0.309H0.349V0C0.697 -0.03 1.435 -0.03 1.813 -0.03S2.939 -0.03 3.288 0V-0.309H3.049C2.281 -0.309 2.262 -0.418 2.262 -0.777V-3.148ZM2.232 -3.407V-6.097C2.232 -6.426 2.252 -6.496 2.72 -6.496H3.606C5.191 -6.496 5.191 -5.44 5.191 -4.951C5.191 -4.483 5.191 -3.407 3.606 -3.407H2.232Z' id='gfull2-80'/>
<path d='M3.318 -0.757C3.357 -0.359 3.626 0.06 4.095 0.06C4.304 0.06 4.912 -0.08 4.912 -0.887V-1.445H4.663V-0.887C4.663 -0.309 4.413 -0.249 4.304 -0.249C3.975 -0.249 3.935 -0.697 3.935 -0.747V-2.74C3.935 -3.158 3.935 -3.547 3.577 -3.915C3.188 -4.304 2.69 -4.463 2.212 -4.463C1.395 -4.463 0.707 -3.995 0.707 -3.337C0.707 -3.039 0.907 -2.869 1.166 -2.869C1.445 -2.869 1.624 -3.068 1.624 -3.328C1.624 -3.447 1.574 -3.776 1.116 -3.786C1.385 -4.134 1.873 -4.244 2.192 -4.244C2.68 -4.244 3.248 -3.856 3.248 -2.969V-2.6C2.74 -2.57 2.042 -2.54 1.415 -2.242C0.667 -1.903 0.418 -1.385 0.418 -0.946C0.418 -0.139 1.385 0.11 2.012 0.11C2.67 0.11 3.128 -0.289 3.318 -0.757ZM3.248 -2.391V-1.395C3.248 -0.448 2.531 -0.11 2.082 -0.11C1.594 -0.11 1.186 -0.458 1.186 -0.956C1.186 -1.504 1.604 -2.331 3.248 -2.391Z' id='gfull2-97'/>
<path d='M1.116 -2.511C1.176 -3.995 2.012 -4.244 2.351 -4.244C3.377 -4.244 3.477 -2.899 3.477 -2.511H1.116ZM1.106 -2.301H3.885C4.105 -2.301 4.134 -2.301 4.134 -2.511C4.134 -3.497 3.597 -4.463 2.351 -4.463C1.196 -4.463 0.279 -3.437 0.279 -2.192C0.279 -0.857 1.325 0.11 2.471 0.11C3.686 0.11 4.134 -0.996 4.134 -1.186C4.134 -1.285 4.055 -1.305 4.005 -1.305C3.915 -1.305 3.895 -1.245 3.875 -1.166C3.527 -0.139 2.63 -0.139 2.531 -0.139C2.032 -0.139 1.634 -0.438 1.405 -0.807C1.106 -1.285 1.106 -1.943 1.106 -2.301Z' id='gfull2-101'/>
<path d='M2.212 -1.714C1.345 -1.714 1.345 -2.71 1.345 -2.939C1.345 -3.208 1.355 -3.527 1.504 -3.776C1.584 -3.895 1.813 -4.174 2.212 -4.174C3.078 -4.174 3.078 -3.178 3.078 -2.949C3.078 -2.68 3.068 -2.361 2.919 -2.112C2.839 -1.993 2.61 -1.714 2.212 -1.714ZM1.056 -1.325C1.056 -1.365 1.056 -1.594 1.225 -1.793C1.614 -1.514 2.022 -1.484 2.212 -1.484C3.138 -1.484 3.826 -2.172 3.826 -2.939C3.826 -3.308 3.666 -3.676 3.417 -3.905C3.776 -4.244 4.134 -4.294 4.314 -4.294C4.334 -4.294 4.384 -4.294 4.413 -4.284C4.304 -4.244 4.254 -4.134 4.254 -4.015C4.254 -3.846 4.384 -3.726 4.543 -3.726C4.643 -3.726 4.832 -3.796 4.832 -4.025C4.832 -4.194 4.712 -4.513 4.324 -4.513C4.125 -4.513 3.686 -4.453 3.268 -4.045C2.849 -4.374 2.431 -4.403 2.212 -4.403C1.285 -4.403 0.598 -3.716 0.598 -2.949C0.598 -2.511 0.817 -2.132 1.066 -1.923C0.936 -1.773 0.757 -1.445 0.757 -1.096C0.757 -0.787 0.887 -0.408 1.196 -0.209C0.598 -0.04 0.279 0.389 0.279 0.787C0.279 1.504 1.265 2.052 2.481 2.052C3.656 2.052 4.692 1.544 4.692 0.767C4.692 0.418 4.553 -0.09 4.045 -0.369C3.517 -0.648 2.939 -0.648 2.331 -0.648C2.082 -0.648 1.654 -0.648 1.584 -0.658C1.265 -0.697 1.056 -1.006 1.056 -1.325ZM2.491 1.823C1.484 1.823 0.797 1.315 0.797 0.787C0.797 0.329 1.176 -0.04 1.614 -0.07H2.202C3.059 -0.07 4.174 -0.07 4.174 0.787C4.174 1.325 3.467 1.823 2.491 1.823Z' id='gfull2-103'/>
<path d='M1.763 -6.914L0.329 -6.804V-6.496C1.026 -6.496 1.106 -6.426 1.106 -5.938V-0.757C1.106 -0.309 0.996 -0.309 0.329 -0.309V0C0.658 -0.01 1.186 -0.03 1.435 -0.03S2.172 -0.01 2.54 0V-0.309C1.873 -0.309 1.763 -0.309 1.763 -0.757V-6.914Z' id='gfull2-108'/>
<path d='M1.096 -3.427V-0.757C1.096 -0.309 0.986 -0.309 0.319 -0.309V0C0.667 -0.01 1.176 -0.03 1.445 -0.03C1.704 -0.03 2.222 -0.01 2.56 0V-0.309C1.893 -0.309 1.783 -0.309 1.783 -0.757V-2.59C1.783 -3.626 2.491 -4.184 3.128 -4.184C3.756 -4.184 3.866 -3.646 3.866 -3.078V-0.757C3.866 -0.309 3.756 -0.309 3.088 -0.309V0C3.437 -0.01 3.945 -0.03 4.214 -0.03C4.473 -0.03 4.991 -0.01 5.33 0V-0.309C4.663 -0.309 4.553 -0.309 4.553 -0.757V-2.59C4.553 -3.626 5.26 -4.184 5.898 -4.184C6.526 -4.184 6.635 -3.646 6.635 -3.078V-0.757C6.635 -0.309 6.526 -0.309 5.858 -0.309V0C6.207 -0.01 6.715 -0.03 6.984 -0.03C7.243 -0.03 7.761 -0.01 8.1 0V-0.309C7.582 -0.309 7.333 -0.309 7.323 -0.608V-2.511C7.323 -3.367 7.323 -3.676 7.014 -4.035C6.874 -4.204 6.545 -4.403 5.968 -4.403C5.131 -4.403 4.692 -3.806 4.523 -3.427C4.384 -4.294 3.646 -4.403 3.198 -4.403C2.471 -4.403 2.002 -3.975 1.724 -3.357V-4.403L0.319 -4.294V-3.985C1.016 -3.985 1.096 -3.915 1.096 -3.427Z' id='gfull2-109'/>
<path d='M1.096 -3.427V-0.757C1.096 -0.309 0.986 -0.309 0.319 -0.309V0C0.667 -0.01 1.176 -0.03 1.445 -0.03C1.704 -0.03 2.222 -0.01 2.56 0V-0.309C1.893 -0.309 1.783 -0.309 1.783 -0.757V-2.59C1.783 -3.626 2.491 -4.184 3.128 -4.184C3.756 -4.184 3.866 -3.646 3.866 -3.078V-0.757C3.866 -0.309 3.756 -0.309 3.088 -0.309V0C3.437 -0.01 3.945 -0.03 4.214 -0.03C4.473 -0.03 4.991 -0.01 5.33 0V-0.309C4.812 -0.309 4.563 -0.309 4.553 -0.608V-2.511C4.553 -3.367 4.553 -3.676 4.244 -4.035C4.105 -4.204 3.776 -4.403 3.198 -4.403C2.471 -4.403 2.002 -3.975 1.724 -3.357V-4.403L0.319 -4.294V-3.985C1.016 -3.985 1.096 -3.915 1.096 -3.427Z' id='gfull2-110'/>
<path d='M1.664 -3.308V-4.403L0.279 -4.294V-3.985C0.976 -3.985 1.056 -3.915 1.056 -3.427V-0.757C1.056 -0.309 0.946 -0.309 0.279 -0.309V0C0.667 -0.01 1.136 -0.03 1.415 -0.03C1.813 -0.03 2.281 -0.03 2.68 0V-0.309H2.471C1.733 -0.309 1.714 -0.418 1.714 -0.777V-2.311C1.714 -3.298 2.132 -4.184 2.889 -4.184C2.959 -4.184 2.979 -4.184 2.999 -4.174C2.969 -4.164 2.77 -4.045 2.77 -3.786C2.77 -3.507 2.979 -3.357 3.198 -3.357C3.377 -3.357 3.626 -3.477 3.626 -3.796S3.318 -4.403 2.889 -4.403C2.162 -4.403 1.803 -3.736 1.664 -3.308Z' id='gfull2-114'/>
<path d='M2.859 -2.341C3.158 -2.72 3.537 -3.208 3.776 -3.467C4.085 -3.826 4.493 -3.975 4.961 -3.985V-4.294C4.702 -4.274 4.403 -4.264 4.144 -4.264C3.846 -4.264 3.318 -4.284 3.188 -4.294V-3.985C3.397 -3.965 3.477 -3.836 3.477 -3.676S3.377 -3.387 3.328 -3.328L2.71 -2.55L1.933 -3.557C1.843 -3.656 1.843 -3.676 1.843 -3.736C1.843 -3.885 1.993 -3.975 2.192 -3.985V-4.294C1.933 -4.284 1.275 -4.264 1.116 -4.264C0.907 -4.264 0.438 -4.274 0.169 -4.294V-3.985C0.867 -3.985 0.877 -3.975 1.345 -3.377L2.331 -2.092L1.395 -0.907C0.917 -0.329 0.329 -0.309 0.12 -0.309V0C0.379 -0.02 0.687 -0.03 0.946 -0.03C1.235 -0.03 1.654 -0.01 1.893 0V-0.309C1.674 -0.339 1.604 -0.468 1.604 -0.618C1.604 -0.837 1.893 -1.166 2.501 -1.883L3.258 -0.887C3.337 -0.777 3.467 -0.618 3.467 -0.558C3.467 -0.468 3.377 -0.319 3.108 -0.309V0C3.407 -0.01 3.965 -0.03 4.184 -0.03C4.453 -0.03 4.842 -0.02 5.141 0V-0.309C4.603 -0.309 4.423 -0.329 4.194 -0.618L2.859 -2.341Z' id='gfull2-120'/>
<path d='M6.107 -6.027C6.107 -6.386 6.127 -6.496 6.894 -6.496H7.133V-6.804C6.785 -6.775 6.047 -6.775 5.669 -6.775S4.543 -6.775 4.194 -6.804V-6.496H4.433C5.2 -6.496 5.22 -6.386 5.22 -6.027V-3.696H2.242V-6.027C2.242 -6.386 2.262 -6.496 3.029 -6.496H3.268V-6.804C2.919 -6.775 2.182 -6.775 1.803 -6.775S0.677 -6.775 0.329 -6.804V-6.496H0.568C1.335 -6.496 1.355 -6.386 1.355 -6.027V-0.777C1.355 -0.418 1.335 -0.309 0.568 -0.309H0.329V0C0.677 -0.03 1.415 -0.03 1.793 -0.03S2.919 -0.03 3.268 0V-0.309H3.029C2.262 -0.309 2.242 -0.418 2.242 -0.777V-3.387H5.22V-0.777C5.22 -0.418 5.2 -0.309 4.433 -0.309H4.194V0C4.543 -0.03 5.28 -0.03 5.659 -0.03S6.785 -0.03 7.133 0V-0.309H6.894C6.127 -0.309 6.107 -0.418 6.107 -0.777V-6.027Z' id='gfull2-72'/>
<path d='M1.714 -3.746V-4.403L0.279 -4.294V-3.985C0.986 -3.985 1.056 -3.925 1.056 -3.487V1.176C1.056 1.624 0.946 1.624 0.279 1.624V1.933C0.618 1.923 1.136 1.903 1.395 1.903C1.664 1.903 2.172 1.923 2.521 1.933V1.624C1.853 1.624 1.743 1.624 1.743 1.176V-0.498V-0.588C1.793 -0.428 2.212 0.11 2.969 0.11C4.154 0.11 5.191 -0.867 5.191 -2.152C5.191 -3.417 4.224 -4.403 3.108 -4.403C2.331 -4.403 1.913 -3.965 1.714 -3.746ZM1.743 -1.136V-3.357C2.032 -3.866 2.521 -4.154 3.029 -4.154C3.756 -4.154 4.364 -3.278 4.364 -2.152C4.364 -0.946 3.666 -0.11 2.929 -0.11C2.531 -0.11 2.152 -0.309 1.883 -0.717C1.743 -0.927 1.743 -0.936 1.743 -1.136Z' id='gfull2-112'/>
</defs>
</svg>

</body>

</html>
